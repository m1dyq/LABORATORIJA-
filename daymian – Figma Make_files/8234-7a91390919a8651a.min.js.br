"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0ed1e8a8-1e0e-5241-adc0-18dcbab38b3c")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8234],{62261:(e,t,a)=>{a.d(t,{$h:()=>u,KY:()=>_,M2:()=>s,Mc:()=>i,P_:()=>d,U0:()=>g,cp:()=>p,eF:()=>l,h4:()=>m,jR:()=>o,lF:()=>r,nF:()=>n,x1:()=>c});let s="seat_requests_page--requestsContainer--q73qM",n="seat_requests_page--fileBrowserContentContainer--XDLHx",r="seat_requests_page--fileBrowserScrollableContainer--jtzUg",i="seat_requests_page--avatarColumn--wdn4J seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",l="seat_requests_page--seatTypeColumn--x7oeW seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",o="seat_requests_page--requestedColumn---Spog seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",d="seat_requests_page--noteColumn--bkuO1 seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",c="seat_requests_page--dropdownScrollClip--BcpC0",u="seat_requests_page--actionBarButtons--Bt0Es",m="seat_requests_page--actionBarHasContent--Sumt5",_="seat_requests_page--actionBar--Q-X0n",p="seat_requests_page--nudgedRequested--KqdrK",g="seat_requests_page--avatarWithHandle--NwRGw"},187546:(e,t,a)=>{a.d(t,{$J:()=>c,KJ:()=>m,UD:()=>_,Un:()=>u,_f:()=>l,b:()=>o,dv:()=>n,gr:()=>r,jy:()=>d,u1:()=>p,ut:()=>s,v0:()=>i});let s="change_payment_modal--paymentModal--MaB-C",n="change_payment_modal--paymentModalHeader--slkgQ",r="change_payment_modal--paymentModalTitle--P5--Q text--fontPos18--rYXJb text--_fontBase--QdLsd",i="change_payment_modal--buttonRow--yFmfo modal--buttonRow--o2A0S",l="change_payment_modal--buttonRowLeft--QISQ5",o="change_payment_modal--closeButton--qw-3Q",d="change_payment_modal--errorBanner--7rLae",c="change_payment_modal--fixedHeightContainer--1e6gQ",u="change_payment_modal--errorContainer--X086-",m="change_payment_modal--formContainer--i6NlA",_="change_payment_modal--buttonContainer--N43qb",p="change_payment_modal--spinner--8cm5-"},305053:(e,t,a)=>{if(a.d(t,{A$:()=>_,BC:()=>v,Td:()=>y,V4:()=>g,W4:()=>b,Z4:()=>f,aN:()=>p,kl:()=>m,uH:()=>u,x9:()=>h}),443==a.j)var s=a(382629);var n=a(812714),r=a(795033),i=a(192075),l=a(502907),o=a(276250),d=a(102497);a(412469);var c=a(894210);let u="admin_requests_dashboard",m="admin_seat_requests_page",_="admin_request_flyout",p=(0,r.eU)(!1),g=(0,r.eU)(new Set);function h(e,t,a){return!!(0,n.kc)().ff_async_upgrade_request_approvals||(e||t.length>5)&&a}let x=e=>e.reduce((e,t)=>{let a=t.billableProductKey;return e[a]=(e[a]??0)+1,e},{});function f(e,t){let a=x(e);return Object.keys(a).some(e=>(0,s.Vq)(t[e])&&t[e]<a[e])}var v=(e=>(e.REQUESTED="request",e))(v||{});function b(e){return e?{columnName:"request",isReversed:e===d.i5.OLDEST_FIRST}:{columnName:"",isReversed:!1}}function y(e,t,a,s){return a||void 0===t||t.reason===o.D.COST_MESSAGING_DISABLED?{"data-tooltip":void 0,"data-tooltip-type":void 0}:{"data-tooltip":null===t.price&&t.reason===o.D.AVAILABLE_SEAT?s?(0,i.t)("admin_dashboard.requests.approve.no_cost_associated"):(0,i.t)("admin_dashboard.requests.approve.seat_paid_for"):t.price&&s?(0,i.t)("admin_dashboard.requests.approve.cost_associated",{seatType:(0,l.tI)(e),seatCost:t.price}):(0,i.t)("admin_dashboard.requests.approve.adds_paid_seat",{seatType:(0,l.tI)(e)}),"data-tooltip-type":c.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}}},747678:(e,t,a)=>{a.d(t,{Rj:()=>y,Zu:()=>E,eS:()=>b});var s=a(104076),n=a(903927),r=a(638004);a(120440);var i=a(369850),l=a(679359),o=a(352630),d=a(192075);if(443==a.j)var c=a(249054);var u=a(542663),m=a(336972);if(443==a.j)var _=a(102497);var p=a(147046),g=a(244205),h=a(657878),x=a(944350),f=a(608175),v=a(920659);function b(){let e=(0,n.wA)(),t=(0,h.z3)();return"orgAdminSettings"!==t&&"seatRequests"!==t?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(o.$z,{variant:"secondary",onClick:()=>{e(p.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:v.J7.ACTIVITY,activityTabInitialEventOptionId:"activity_log.filter.upgrade_requests_and_activity"}))},htmlAttributes:{"data-testid":"admin-dashboard-view-history-button"},trackingProperties:{trackingDescriptor:g.c.VIEW_HISTORY},children:(0,d.t)("admin_dashboard.requests.view_history")})}function y({planId:e,planType:t,configuredUpgradeRequestSetting:a}){return t===_.ps.TEAM?(0,s.jsx)(j,{}):(0,s.jsx)(S,{orgId:e,configuredUpgradeRequestSetting:a})}function j(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.teamBilling),a=t.summary.currency,i=t.summary.monthly_subscription?f.IX.MONTH:f.IX.YEAR,l=(0,u.L)(r.e.MONETIZATION_EXPANSION);return(0,s.jsx)(o.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.qf},onClick:(0,m.S)({dispatch:e,currency:a,renewalTerm:i}),variant:"secondary",trackingProperties:{trackingDescriptor:g.c.APPROVAL_SETTINGS},trackingOptions:l,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function S({orgId:e,configuredUpgradeRequestSetting:t}){let a=(0,n.wA)(),l=(0,i.Xf)(e),_=l.data?.currency,p=t===x.Sm.ALL_USERS?(0,m.d)({dispatch:a}):(0,m.S)({dispatch:a,currency:_,renewalTerm:f.IX.YEAR,isCurfEnabledForMembers:t===x.Sm.MEMBERS}),h=(0,u.L)(r.e.MONETIZATION_EXPANSION);return(0,s.jsx)(o.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.qf},onClick:p,variant:"secondary",trackingProperties:{trackingDescriptor:g.c.APPROVAL_SETTINGS},trackingOptions:h,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function E({text:e,showSpinner:t}){return(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 xl56j7k",children:[(0,s.jsx)("div",{...{0:{className:"x1bpp3o7"},1:{className:"x1bpp3o7 xlshs6z"}}[!!t<<0],children:e}),t&&(0,s.jsx)(l.kt,{shouldMatchTextColor:!0,size:"small",className:"x10l6tqk"})]})}},109317:(e,t,a)=>{a.d(t,{E:()=>d});var s=a(104076),n=a(716976);if(443==a.j)var r=a(962856);var i=a(795033),l=a(220294),o=a(102497);function d({refreshNonce:e,refreshTabCountNonce:t,viewableBillingGroupIds:a,planType:d,planId:c,managedRequests:u,showAllOrgRequests:m,selectedRequestView:_,processedRequestIds:p,showBillingGroupAdminRequests:g,isOrgAdmin:h}){let[x,f]=(0,i.fp)(l.Y),v=m||g,b=v?[d,c,u].toString():[d,c].toString(),y=(0,n.useMemo)(()=>JSON.stringify(v?{refreshNonce:e,refreshTabCountNonce:t,billing_group_ids:u?a:null}:{refreshNonce:e,billing_group_ids:h?[null]:[]}),[e,t,u,a,v,h]),j=(0,o.z7)({planType:d,planId:c,filterParams:y,processedRequestIds:p}),[S,E]=(0,n.useState)(null);return n.useEffect(()=>{if(null!==j&&(E(j.length),u)){let e={...x};e[b]=j.length,f(e)}},[j,b]),null!==S&&(j?.length!==0||m)&&(0,s.jsx)(r.E,{variant:u&&_===o.V7.ALL_MANAGED_REQUESTS||!u&&_===o.V7.ALL_ORG_REQUESTS?"brandOutline":"defaultFilled","data-testid":"table-row-count-badge",children:S.toString()})||(0,s.jsx)("div",{})}},995379:(e,t,a)=>{a.d(t,{s:()=>u,u:()=>m});var s=a(716976),n=a(903927);if(443==a.j)var r=a(276800);var i=a(219199),l=a(192075),o=a(58212),d=a(638641),c=a(82621);function u(){let e=(0,n.wA)();return{dispatchSuccess:({approve:t,numRequests:a,asyncUpdate:s})=>{let n=t?(0,l.t)("admin_dashboard.requests.success_approve_seat_changed",{numRequests:a}):(0,l.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:a});t&&s&&(n=(0,l.t)("admin_dashboard.requests.success_approve_seat_changed_async",{numRequests:a})),e(o.F.enqueue({message:n,icon:t?d.zX.CHECK_WITH_CIRCLE:void 0,type:t?"requests-approved":"requests-denied",onDismiss:r.lQ}))},dispatchSuccessWithRequesterName:({requesterName:t})=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}),icon:d.zX.CHECK_WITH_CIRCLE,type:"requests-approved",onDismiss:r.lQ}))},dispatchRequestAlreadyHandled:()=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:"requests-approved"}))},dispatchProcessingError:({multiple:t})=>{e(o.F.enqueue({message:t?(0,l.t)("admin_dashboard.requests.error_multiple"):(0,l.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.Ay.reload("Admin requests dashboard error")}}}))},dispatchGenericError:()=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.Ay.reload("Admin requests dashboard error")}}}))}}}function m(e,t){let a=(0,n.wA)();(0,s.useEffect)(()=>{e&&!t&&a(c.Jt({forceRefetch:!0}))},[a,e,t])}},930943:(e,t,a)=>{a.d(t,{W:()=>h});var s=a(104076),n=a(903927),r=a(929302),i=a(91478),l=a(268389),o=a(369850),d=a(352630),c=a(192075),u=a(366535),m=a(244205),_=a(111297),p=a(570079),g=a(563554);let h=(0,a(959834).Ju)(function(e){let t;let a=r.hS({open:e.open,onClose:e.onClose}),h=(0,n.wA)(),x=(0,o.Xf)(e.plan.key.parentId,e.plan.key.type!==p.OL.TEAM),f=(0,n.d4)(e=>e.teamBilling),v=e.plan.key.type===p.OL.TEAM?f.summary.currency:x.data?.currency,b=()=>h(u.Ce());return t=!v||e.isELA?e.filteredRowCount!==e.numRequestsToApprove?(0,s.jsx)("p",{children:(0,c.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}):(0,s.jsx)("p",{children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.numRequestsToApprove})}):(0,s.jsxs)(s.Fragment,{children:[e.filteredRowCount!==e.numRequestsToApprove&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:(0,c.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}),(0,s.jsx)("br",{})]}),(0,s.jsx)("p",{children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.body")})]}),(0,s.jsx)(i.bL,{manager:a,width:"lg",children:(0,s.jsx)(_.fu,{name:g.e0.APPROVE_ALL_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId,entryPoint:e.entryPoint},children:(0,s.jsxs)(l.vo,{children:[(0,s.jsx)(l.Y9,{children:(0,s.jsx)(l.hE,{children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)(l.nB,{children:t}),(0,s.jsx)(l.wi,{children:(0,s.jsxs)(l.jk,{children:[(0,s.jsx)(d.$z,{variant:"secondary",onClick:b,trackingProperties:{trackingDescriptor:m.c.CANCEL},children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(d.$z,{variant:"primary",onClick:()=>{b(),e.onConfirm()},trackingProperties:{trackingDescriptor:m.c.APPROVE_ALL},children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.numRequestsToApprove})})]})})]})})})},"ApproveAllConfirmationModal")},394283:(e,t,a)=>{a.d(t,{m:()=>ei});var s=a(104076),n=a(716976),r=a(903927),i=a(638004),l=a(449572),o=a(513369),d=a(236631),c=a(276250),u=a(328213),m=a(266966),_=a(297109),p=a(953940),g=a(952385),h=a(649693),x=a(285091),f=a(944350),v=a(59849),b=a(904017),y=a(795033),j=a(352630),S=a(192075),E=a(305053),T=a(747678),I=a(542663),N=a(244205);function A({onClose:e,onApprove:t,onDecline:a,requestId:n}){let r=(0,y.md)(E.aN),l=(0,y.md)(E.V4),o=!!r||l.has(n),c=(0,I.L)(i.e.MONETIZATION_EXPANSION);return(0,s.jsxs)("div",{className:d.s.wFull.flex.flexColumn.gap8.$,children:[(0,s.jsx)(j.lR,{onClick:()=>{t(),e()},disabled:o,trackingProperties:{trackingDescriptor:N.c.APPROVE},trackingOptions:c,children:(0,s.jsx)(T.Zu,{text:(0,S.t)("admin_dashboard.request_flyout.approve"),showSpinner:"approving"===r&&l.has(n)})}),(0,s.jsx)(j.lR,{onClick:()=>{a(),e()},variant:"secondary",disabled:o,trackingProperties:{trackingDescriptor:N.c.DECLINE},trackingOptions:c,children:(0,s.jsx)(T.Zu,{text:(0,S.t)("admin_dashboard.request_flyout.decline"),showSpinner:"declining"===r&&l.has(n)})})]})}a(120440);var w=a(883765),C=a(390036),R=a(115989),k=a(520741),O=a(772963),q=a(659062),L=a(476261),M=a(50536),P=a(293422),D=a(984582),F=a(268349),B=a(369850),U=a(782301);function G({seatType:e,seatCostResult:t,isProrationBillingEnabled:a,planUser:n}){let i=(0,r.wA)(),l=(0,b.S2)().unwrapOr(null),o=t.reason===c.D.AVAILABLE_SEAT,d=o?(0,s.jsx)(D.y,{}):(0,s.jsx)(F.S,{}),u=l?.key.type===f.OL.ORG,m=(0,B.Xf)(l?.key.parentId,l?.key.type!==f.OL.TEAM),_=(0,r.d4)(e=>e.teamBilling),p=l?.key.type===f.OL.TEAM?_.summary.currency:m.data?.currency;return(0,s.jsxs)("div",{style:q.sx.flex.itemsCenter.justifyBetween.flexRow.p8.pr16.gap4.wAuto.bRadius5.textBodyMediumStrong.if(o,q.sx.colorBgSelected,q.sx.colorBgSecondary).$,"data-testid":"seat-cost-info",children:[(0,s.jsxs)("div",{style:q.sx.flex.flexRow.itemsCenter.justifyBetween.gap4.$,children:[d,(0,s.jsx)("div",{children:o?u?(0,S.tx)("admin_dashboard.request_flyout.seat_cost.no_cost_for_approval"):(0,S.tx)("admin_dashboard.request_flyout.seat_cost.this_will_use_available_seat",{seatType:(0,L.tI)(e)}):a&&t.price?(0,S.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval",{seatType:(0,L.tI)(e),seatCost:t.price}):(0,S.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval_no_price",{seatType:(0,L.tI)(e)})})]}),!!n.currentSeat&&(0,s.jsx)(P.$n,{onClick:()=>(0,U.E1)({currency:p,dispatch:i,planUser:{id:n.id,userId:n.user.id,name:n.user.name,handle:n.user.handle,currentSeatType:n.currentSeat},nextSeatType:e,hideFooter:!0}),variant:"link",children:(0,s.jsx)("p",{style:q.sx.textBodyMedium.$,children:(0,S.tx)("admin_dashboard.request_flyout.seat_cost.see_details")})})]})}function W({label:e,value:t,onClick:a}){let n=(0,s.jsx)(O.G,{className:"xh8yej3 xdpxx8g",text:t??"-"});return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.overflowBreakWord.textBodyMedium.$,children:[(0,s.jsx)("div",{className:d.s.colorTextSecondary.$,children:e}),a?(0,s.jsx)(j.e6,{className:"xt0psk2 xh8yej3 x1e9o9zf xt0b8zv",onClick:a,children:n}):n]})}function V({request:e,lastActiveValue:t,billingGroupName:a,currentSeatValue:n}){let i;let l=(0,r.wA)(),o=(0,C.Zr)((0,R.Ak)(e.createdAt)),d=(0,s.jsx)(W,{label:(0,S.t)("admin_dashboard.request_flyout.body.email"),value:e.email,onClick:e.email?t=>{t.stopPropagation(),e.email&&l(M.II({emailList:[e.email]}))}:void 0}),c=(0,s.jsx)(W,{label:(0,S.t)("admin_dashboard.request_flyout.body.role"),value:e.jobTitle&&(0,C.Ay)(e.jobTitle)}),u=(0,s.jsx)(W,{label:(0,S.t)("admin_dashboard.request_flyout.body.request_sent"),value:o}),m=(0,s.jsx)(W,{label:(0,S.t)("admin_dashboard.request_flyout.body.current_seat"),value:n?(0,L.JT)(n):"-"}),_=(0,C.Zr)((0,R.Ak)(t)),p=(0,s.jsx)(W,{label:(0,S.t)("admin_dashboard.request_flyout.body.last_active"),value:t?_:"-"});return i=a?[[d,c,p],[(0,s.jsx)(W,{label:(0,S.t)("admin_dashboard.request_flyout.body.billing_group"),value:a}),m,u]]:[[d,m,u],[c,p]],(0,s.jsx)("div",{style:q.sx.flex.gap24.p16.colorBorder.b1.add({borderRadius:"13px"}).$,children:i.map((e,t)=>(0,s.jsx)("div",{style:q.sx.add({width:"calc((100% - 56px)/2)"}).flex.flexColumn.flex1.gap24.$,children:e},`requestInfoColumn${t}`))})}function $({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,w.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"request_flyout"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(k._,{dataTestId:"pricing-error-banner",color:k.S.WARNING,padding:8,text:(0,S.tx)("admin_dashboard.request_flyout.price_fetching_error")}):null}function H({request:e,planUser:t,billingGroupName:a,seatCostResult:n,shouldHideSeatCostInfo:r,isProrationBillingEnabled:i,failedToLoadPrices:l}){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.hFull.justifyBetween.gap16.mb8.$,"data-testid":"request-flyout-body",children:[(0,s.jsx)("div",{className:d.s.flex.flexColumn.gap24.$,children:(0,s.jsx)(V,{request:e,billingGroupName:a,lastActiveValue:t.lastActive,currentSeatValue:t.currentSeat})}),(0,s.jsxs)("div",{children:[!r&&!!n&&(0,s.jsx)(G,{seatType:e.billableProductKey,seatCostResult:n,isProrationBillingEnabled:i,planUser:t}),(0,s.jsx)($,{failedToLoadPrices:l})]})]})}var z=a(962856),Y=a(624593),Q=a(511570),K=a.n(Q),X=a(142914);let J="request_flyout--secondaryIcon--lhrXO";function Z({request:e}){let t=e.name||e.email||(0,S.t)("admin_dashboard.requests.no_name"),a={id:e.userId,name:t,email:e.email??"",imgUrl:e.imgUrl??""};return(0,s.jsxs)("div",{"data-testid":"request-flyout-header",className:d.s.flex.flexColumn.gap16.$,children:[(0,s.jsxs)("div",{className:"request_flyout--avatarContainer--S-J9Y",children:[(0,s.jsx)(X.H8,{size:48,user:a}),e.hasBeenNudged?(0,s.jsx)("div",{className:K()(J,"request_flyout--reminderIcon--YYAB2"),"data-testid":"seat-requests-flyout-avatar-reminder",children:(0,s.jsx)(Y.O,{style:q.sx.add({rotate:"35deg",marginLeft:"-2px",marginTop:"-2px"}).$})}):(0,s.jsx)("div",{className:K()(J,"request_flyout--planIcon--3ad7j"),"data-testid":"seat-requests-flyout-avatar-seat-type",children:(0,s.jsx)(U.BC,{type:e.billableProductKey,removeBackgroundColor:!0,size:"16"})})]}),(0,s.jsxs)("div",{className:d.s.flex.flexColumn.$,children:[(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np x193iq5w x6s0dn4 xfex06f",children:[(0,s.jsx)(O.G,{text:t,className:d.s.textHeadingMedium.fontSemiBold.$}),e.orgPermission===f._D.GUEST&&(0,s.jsx)(z.E,{size:"lg",variant:"defaultOutline",children:(0,S.tx)("admin_dashboard.requests.badge.guest")})]}),(0,s.jsx)("div",{className:d.s.textHeadingMedium.fontMedium.$,children:(0,S.tx)("admin_dashboard.request_flyout.requested_a_seat",{seatType:(0,L.tI)(e.billableProductKey)})})]}),!!e.lastNudgedAt&&(0,s.jsx)("div",{className:"request_flyout--reminder--HX1aD","data-testid":"nudged-request-banner",children:(0,S.tx)("admin_dashboard.requests.reminder_sent",{time:(0,R.JD)(e.lastNudgedAt)})}),e.message&&(0,s.jsx)("div",{style:q.sx.overflowBreakWord.colorBgSecondary.textBodyMedium.colorTextSecondary.pt8.pb8.pr16.pl16.add({borderRadius:"0 13px 13px 13px"}).$,children:e.message})]})}var ee=a(284467);function et(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap16.$,"data-testid":"request-flyout-loading-skeleton-header",children:[(0,s.jsx)(ee.Wi,{style:q.sx.w48.h48.bRadiusFull.$}),(0,s.jsx)(ee.Wi,{style:q.sx.add({width:"20%"}).h16.$}),(0,s.jsx)(ee.Wi,{style:q.sx.add({width:"40%"}).h24.$})]})}function ea(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap16.wFull.$,"data-testid":"request-flyout-loading-skeleton-body",children:[(0,s.jsx)(ee.Wi,{className:d.s.wFull.h32.$}),(0,s.jsx)(ee.Wi,{className:d.s.wFull.h200.$})]})}function es(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap8.$,"data-testid":"request-flyout-loading-skeleton-footer",children:[(0,s.jsx)(ee.Wi,{style:q.sx.wFull.h32.$}),(0,s.jsx)(ee.Wi,{style:q.sx.wFull.h32.$})]})}let en=(e,t)=>{let a=o.oA(t.data?.org)?.baseOrgUserMembersById;if(!a)return;let[s]=a,n=e.length>0&&s?e.find(e=>e.id===s.licenseGroupMember?.licenseGroupId)??null:null;return n?.name},er={Root:(0,n.forwardRef)((e,t)=>(0,s.jsx)(m.I,{open:e.open,trackingName:e.trackingName,trackingProperties:e.trackingProperties,children:(0,s.jsx)(_.m.Root,{ref:t,open:e.open,onClose:e.onClose,children:e.children})})),Contents:function({request:e,billingGroups:t,onClose:a,onApprove:o,onDecline:m}){let y,j,S,E;let T=(0,r.wA)(),I=(0,b.S2)().unwrapOr(null);if(!I)throw Error("Missing Plan.");let N=I.key.type===f.OL.ORG,w=(0,r.d4)(t=>{let a=t.teamMembersByTeamId[I.key.parentId??""];return a?a[e?.email??""]:void 0}),{calculateCostForSeatTypeIncrease:C,status:R}=(0,c.n)(I,e),k=C(),O=(0,x.d)({reportErrorsToTeam:i.e.SCALE}),q=(0,u.k)(),[L,M]=(0,n.useState)();(0,n.useEffect)(()=>{async function t(){await T(g.m$({teamId:I?.key.parentId??""}))}async function a(){M(await T(p.I1({orgId:I?.key.parentId??"",userId:e?.userId??""})))}return N&&a(),I?.key.type===f.OL.TEAM&&t(),()=>M(null)},[T,N,I?.key.parentId,I?.key.type,e?.userId]);let P=(0,l.Rs)(v.oSh,{orgId:I?.key.parentId??"",orgUserIds:L?[L.id]:[]},{enabled:!!L&&t.length>0});if(!e)return(0,s.jsx)(s.Fragment,{});E=N?{id:L?.id??"",user:{id:L?.user.id??"",name:L?.user.name??"",handle:L?.user.handle??""},lastActive:L?.last_seen??void 0,currentSeat:L?L.active_seat_type?.key??h.Gu.VIEW:void 0}:{id:w?.team_user?.id??"",user:{id:w?.team_user?.user_id??"",name:w?.name??"",handle:w?.team_user?.user?.handle??""},lastActive:w?.last_active?new Date(1e3*w.last_active).toISOString():void 0,currentSeat:w?w.team_user?.active_seat_type?.key??h.Gu.VIEW:void 0};let D=!L||"loading"===P.status,F="errors"===R,B=O||F||c.D.MISSING_CURRENCY===k?.reason||c.D.COST_MESSAGING_DISABLED===k?.reason;if(!E||N&&D)y=(0,s.jsx)(et,{}),j=(0,s.jsx)(ea,{}),S=(0,s.jsx)(es,{});else{let n=en(t,P);y=(0,s.jsx)(Z,{request:e}),j=(0,s.jsx)(H,{request:e,planUser:E,billingGroupName:n,seatCostResult:k,shouldHideSeatCostInfo:B,failedToLoadPrices:F,isProrationBillingEnabled:q}),S=(0,s.jsx)(A,{onClose:a,onApprove:o,onDecline:m,requestId:e.id})}return(0,s.jsx)(_.m.Contents,{children:(0,s.jsxs)("div",{className:d.s.flex.flexColumn.justifyBetween.hFull.p24.gap24.$,children:[(0,s.jsx)(_.m.HiddenTitle,{children:e.id}),y,(0,s.jsxs)("div",{className:d.s.flex.flexColumn.justifyBetween.hFull.gap16.$,children:[j,S]})]})})}};function ei(e){let{request:t,billingGroups:a,open:n,onClose:r,onApprove:i,onDecline:l,trackingName:o,trackingProperties:d,flyoutRef:c}=e;return{requestFlyout:(0,s.jsx)(er.Root,{open:n,onClose:r,trackingName:o,trackingProperties:{...d},ref:c,children:(0,s.jsx)(er.Contents,{request:t,billingGroups:a,onClose:r,onApprove:i,onDecline:l})})}}},490525:(e,t,a)=>{a.d(t,{l:()=>eW});var s=a(104076),n=a(716976),r=a(903927),i=a(99723),l=a(276800),o=a(638004),d=a(795033),c=a(511570),u=a.n(c),m=a(422069),_=a(837975),p=a(449572),g=a(225125),h=a(856909),x=a(665261),f=a(555013),v=a(115989),b=a(284467),y=a(915459),j=a(772963),S=a(894087),E=a(236631),T=a(192075),I=a(659062),N=a(58212),A=a(638641),w=a(911990),C=a(457923),R=a(871898),k=a(884153),O=a(328213),q=a(476261),L=a(220294),M=a(305053),P=a(102497),D=a(747678),F=a(109317),B=a(995379),U=a(930943),G=a(929302),W=a(91478),V=a(268389),$=a(369850),H=a(352630),z=a(542663),Y=a(366535),Q=a(244205),K=a(111297),X=a(570079),J=a(563554);let Z=(0,a(959834).Ju)(function(e){let t;let a=G.hS({open:e.open,onClose:e.onClose}),n=(0,r.wA)(),i=(0,$.Xf)(e.plan.key.parentId,e.plan.key.type!==X.OL.TEAM),l=(0,r.d4)(e=>e.teamBilling),d=e.plan.key.type===X.OL.TEAM?l.summary.currency:i.data?.currency,c=()=>n(Y.Ce());t=!d||e.isELA?(0,T.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.requestsToApprove.length}):(0,T.tx)("admin_dashboard.seat_requests.bulk_approve_modal.body");let u=(0,z.L)(o.e.MONETIZATION_EXPANSION);return(0,s.jsx)(K.fu,{name:J.e0.BULK_APPROVE_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId},children:(0,s.jsx)(W.bL,{manager:a,width:"lg",children:(0,s.jsxs)(V.vo,{children:[(0,s.jsx)(V.Y9,{children:(0,s.jsx)(V.hE,{children:(0,T.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)(V.nB,{children:t}),(0,s.jsx)(V.wi,{children:(0,s.jsxs)(V.jk,{children:[(0,s.jsx)(H.$z,{variant:"secondary",onClick:c,trackingProperties:{trackingDescriptor:Q.c.CANCEL},trackingOptions:u,children:(0,T.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(H.$z,{variant:"primary",onClick:()=>{c(),e.onConfirm()},trackingProperties:{trackingDescriptor:Q.c.APPROVE},trackingOptions:u,children:(0,T.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.requestsToApprove.length})})]})})]})})})},"BulkApproveConfirmationModal");var ee=a(394283),et=a(982145),ea=a(248486),es=a(146171),en=a(487810),er=a(742024),ei=a(649693),el=a(418149),eo=a(781611),ed=a(285091),ec=a(899593),eu=a(847282),em=a(592726),e_=a(462952),ep=a(944350),eg=a(59849),eh=a(826930),ex=a(894210),ef=a(937455),ev=a(826160),eb=a(333705),ey=a(741563),ej=a(653899),eS=a(249054),eE=a(417450),eT=a(422872),eI=a(235711),eN=a(61102),eA=a(441030);function ew(e){let t=(0,eI.r1)("seen_admin_seat_approval_settings_onboarding"),a=(0,d.md)(t),{show:n,isShowing:r,complete:i}=(0,eT.e)({overlay:eA.Clh,priority:(0,eE.g)(eA.Clh)},[a]);return(0,ej.h)(()=>{n({canShow:e=>!e})}),(0,s.jsx)(eN.rq,{clickOutsideToHide:!0,description:(0,T.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.description"),emphasized:!0,isShowing:r,onClose:i,primaryCta:{label:(0,T.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:Q.c.GOT_IT},targetKey:eS.qf,title:(0,T.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.title"),trackingContextName:"",userFlagOnShow:"seen_admin_seat_approval_settings_onboarding"})}var eC=a(827695),eR=a(122765);a(120440);var ek=a(276250);function eO({request:e,plan:t,handleRequests:a,isELA:n,isProrationBillingEnabled:r}){let i=(0,d.md)(M.aN),l=(0,d.md)(M.V4),{calculateCostForSeatTypeIncrease:c}=(0,ek.n)(t,e),u=e.billableProductKey,m=c(),_=!!i||l.has(e.id),p="approving"===i&&l.has(e.id),g=(0,z.L)(o.e.MONETIZATION_EXPANSION);return p?(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 xe8ttls",children:(0,s.jsx)(eC.k,{size:"sm"})}):(0,s.jsx)(H.Me,{"aria-label":(0,T.t)("admin_dashboard.requests.approve"),onClick:t=>{t.stopPropagation(),a({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},disabled:_,trackingProperties:{trackingDescriptor:Q.c.APPROVE},htmlAttributes:{"data-testid":"approve-button-single",...(0,M.Td)(u,m,n,r)},trackingOptions:g,children:(0,s.jsx)(eR.U,{})})}var eq=a(238198);function eL({request:e,setHighlightedItemId:t}){let a=(0,z.L)(o.e.MONETIZATION_EXPANSION);return(0,s.jsx)(H.Me,{"aria-label":(0,T.t)("admin_dashboard.requests.details.title"),onClick:a=>{a.stopPropagation(),t(e.id)},trackingProperties:{trackingDescriptor:Q.c.REQUEST_DETAILS,requestId:e.id},trackingOptions:a,children:(0,s.jsx)(eq.a,{})})}var eM=a(692757),eP=a(506192),eD=a(62261);function eF(e){let t=(0,r.wA)(),a=(0,eP.Um)(),n=a?.type===e.type;return(0,s.jsxs)(eM.V,{showingDropdown:n,type:e.type,dispatch:t,isRightAligned:!0,children:[(0,s.jsx)("div",{"data-testid":e.dataTestId,children:e.isDefaultFilter?e.defaultFilterLabel:e.filterLabel}),n&&(0,s.jsx)(x.gw,{dispatch:t,className:eD.x1,style:a.data.position,children:e.renderFilterOptions()})]})}var eB=a(939946);let eU="approving-all-requests",eG="RequestFlyout";function eW({plan:e,isOrgAdmin:t,defaultAdminEntryPoint:a}){let c;let G=e?.key.type==="team"?P.ps.TEAM:P.ps.ORG,W=e.key.parentId??"",V=(0,en.B)(),$=n.useRef(null),H=n.useRef(null),X=(0,O.k)(),ej=(0,z.L)(o.e.MONETIZATION_EXPANSION),eS=(0,r.wA)(),{seatAvailability:eE}=(0,k.k)(e),{Sprig:eT}=(0,g.A)(),[eI,eN]=(0,n.useState)(!1),[eA,eC]=(0,n.useState)(""),[eR,ek]=(0,n.useState)(null),[eq,eM]=(0,n.useState)(P.i5.NEWEST_FIRST),[eP,eW]=(0,d.fp)(M.aN),eV=(0,n.useRef)(0),[e$,eH]=(0,n.useState)(0),ez=(0,r.d4)(({selectedView:e})=>e),eY=a??M.kl,{dispatchSuccess:eQ,dispatchSuccessWithRequesterName:eK,dispatchRequestAlreadyHandled:eX,dispatchProcessingError:eJ,dispatchGenericError:eZ}=(0,B.s)(),[e0,e1]=(0,d.fp)(L.Y),[e9,e4]=(0,d.fp)(M.V4),[e2,e6]=(0,n.useState)(()=>new Set),[e5,e3]=(0,n.useState)(()=>new Set),[e7,e8]=(0,n.useState)(null),[te,tt]=(0,n.useState)(0),[ta,ts]=(0,n.useState)(0),[tn,tr]=(0,n.useState)(P.V7.ALL_MANAGED_REQUESTS),[ti,tl]=(0,n.useState)(tn),[to,td]=(0,n.useState)(null),tc=(0,e_.MX)(),tu=(0,em.TA)(),tm=G===P.ps.ORG,t_=(0,n.useMemo)(()=>tm?(0,e_.EQ)(tc,tu,!1).groupsUserIsAdminOf:[],[tc,tu,tm]),tp=(0,n.useMemo)(()=>t_?t_.map(e=>e.id):[],[t_]),tg=(0,n.useMemo)(()=>tn===P.V7.ALL_MANAGED_REQUESTS?t?[null,...tp]:tp:null,[tn,tp,t]),th=(0,n.useMemo)(()=>{switch(ti){case P.V7.ALL_ORG_REQUESTS:return null;case P.V7.ALL_MANAGED_REQUESTS:return t?[null,...tp]:tp;case P.V7.ALL_UNASSIGNED_REQUESTS:return t?[null]:[];default:if(!(ti in P.V7))return[ti];return null}},[ti,tp,t]),tx=(0,n.useMemo)(()=>JSON.stringify({search_query:eA,billable_product_key:eR,refreshNonce:te,sortTypeNonce:eq,billing_group_ids:th,org_user_permission:to}),[eA,eR,te,eq,th,to]),tf=(0,n.useMemo)(()=>JSON.stringify({billing_group_ids:tg}),[tg]),tv=(0,p.Rs)((0,eg.EEx)({planType:G,planId:W,sortOrder:eq===P.i5.NEWEST_FIRST?"desc":"asc",filterParams:tx,firstPageSize:25})),tb=(0,P.z7)({planType:G,planId:W,filterParams:tx,processedRequestIds:e5}),ty=(0,P.z7)({planType:G,planId:W,filterParams:JSON.stringify({refreshNonce:tx,billing_group_ids:tg}),processedRequestIds:e5}),tj=(0,p.Rs)((0,eg.HpJ)({orgId:W}),{enabled:tm}),tS="loaded"===tv.status,tE=tS&&!!tv.data?.adminDashboardRequests?.isLoadingNextPage,tT=tS&&!!tv.data?.adminDashboardRequests?.hasNextPage(),[tI,tN]=(0,n.useState)({loading:!0,requestId:void 0,request:void 0}),tA=tm&&"loaded"===tj.status&&tj.data?.org?.bigmaEnabledAt&&t,tw=tm&&"loaded"===tj.status&&t?tj.data?.org?.orgSharedSetting?.configuredUpgradeRequestSetting:void 0,tC=(0,P.ZY)({isIntendedAudience:tm&&"loaded"===tj.status&&tj.data?.org?.bigmaEnabledAt!==null&&!1===t});(0,B.u)(tm,t);let tR=(0,ed.d)({reportErrorsToTeam:o.e.SCALE}),tk=!tS||tE||tT||tI.loading,tO=tb?.length??0,tq=ty?.length??0,tL=[G,W].toString(),tM=e0[tL],tP=tq?Math.max(tq,0):0,tD=ty&&tM!==tP,tF=tq>0||null===ty&&!!tM;n.useEffect(()=>{if(tD){let e={...e0};e[tL]=tP,e1(e)}},[tD,tL,tP]);let tB=eI&&null===tO;(0,n.useEffect)(()=>{tS&&e8(new Date)},[tS]),(0,n.useEffect)(()=>{let e=(0,eu.QL)("approvalRequestId");e?tN(t=>({...t,requestId:e})):tN(e=>({...e,loading:!1})),(0,eu.EM)("approvalRequestId")},[]),(0,n.useEffect)(()=>{async function e(e){let t=await (0,ec.q)(e,eS);t?tN(e=>({...e,request:t,loading:!1})):tN(e=>({...e,loading:!1}))}tI.requestId&&e(tI.requestId)},[tI.requestId,eS]),(0,_.R)(()=>{if(tI.requestId&&tI.request){let e=tI.request.requestableOrgUser?.user?.name??tI.request.requestableTeamUser?.user?.name??"";t0({approve:!0,selectedRequestIds:[tI.requestId],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:P.Xv.EMAIL,successHandler:e?()=>{eK({requesterName:e}),tN({loading:!1,requestId:void 0,request:void 0})}:eQ})}},tk,e=>!e);let tU=(0,n.useMemo)(()=>{let e=new Set(e2);if(!tS||!tv?.data?.adminDashboardRequests)return[];let t=tv.data?.adminDashboardRequests.reduce((t,a)=>{let s=a.id,n=a.request,r=a.user,i=a.userId;if(n.status!==m.tT.Loaded||r.status!==m.tT.Loaded)return t;let l=n.data,o=r.data;if(!l||!o)return e.has(s)||e.add(s),t;if(!l.billableProductKey)return t;let d=eo.Zx(l.billableProductKey);if(e.has(s))return t;if("pending"!==l.status)return e.has(s)||e.add(s),t;let c=!!l.lastNudgedAt;if(s===tI.requestId)return e.has(s)||e.add(s),t;let u=l.requestableTeamUser?.currentSeat;return t.push({id:s,createdAt:l.createdAt,updatedAt:l.updatedAt,name:o.name,email:o.email,imgUrl:o.imgUrl,message:l.message&&l.message.trim().length>0?l.message:null,jobTitle:o.profile?.jobTitle??null,userId:i,hasBeenNudged:c,lastNudgedAt:l.lastNudgedAt,billableProductKey:d,currentSeat:{billableProductKey:u?.billableProductKey,billingInterval:u?.billingInterval},orgPermission:l.requestableOrgUser?.permission}),t},[]);return e3(t=>new Set([...t,...new Set(e)])),t.sort((e,t)=>{let a=e.lastNudgedAt??e.createdAt,s=t.lastNudgedAt??t.createdAt;return eq===P.i5.NEWEST_FIRST?s.getTime()-a.getTime():a.getTime()-s.getTime()})},[tS,tv.data,tI.requestId,e2,eq]),tG=n.useCallback(e=>tU.find(t=>t.id===e),[tU]),{highlightedItem:tW,setHighlightedItemId:tV,clearHighlightedItemId:t$}=(0,ea.v)(tG,{interactionConfig:[{ref:H,shouldClearHighlight:!1},{ref:$,shouldClearHighlight:!1},{ref:V,shouldClearHighlight:!0}],onHighlight:()=>{H.current?.focus()},onClear:(0,es.b)(eG)}),tH=(0,n.useMemo)(()=>new Set(tU?.filter(e=>[ei.ud.DEVELOPER,ei.ud.EXPERT].includes(e.billableProductKey)&&e.message?.includes("Dev Mode")).map(e=>e.id)),[tU]);(0,_.R)(()=>{let e=(0,eu.QL)("viewRequestId");e&&(tU.find(t=>t.id===e)?tV(e):eX(),(0,eu.EM)("viewRequestId"))},tk,e=>!e);let tz=(0,n.useMemo)(()=>(0,i.s)(eC,300),[eC]),tY=e=>e===P.r1.GUESTS?(0,T.t)("admin_dashboard.requests.guests"):e===P.r1.MEMBERS?(0,T.t)("admin_dashboard.requests.members"):(0,T.t)("admin_dashboard.requests.all_users"),tQ=tn===P.V7.ALL_ORG_REQUESTS&&tc.length>0,tK=tn===P.V7.ALL_MANAGED_REQUESTS&&(t_.length>0&&t||!t&&t_.length>1),tX=(tA||tC)&&(tQ||tK),tJ=n.useCallback(({approve:e,requestId:t,selectionMethod:a=P.Xv.SINGLE,entryPoint:s=eY,successHandler:n=eQ})=>{e4(e=>new Set(e).add(t)),eW(e?"approving":"declining");let r=e?ef.w.approveRequests.bind(ef.w):ef.w.denyRequests.bind(ef.w),i=tU.find(e=>e.id===t);r({plan_id:W,plan_type:G,included_request_ids:[t],selection_method:a,entry_point:s,is_proration_billing_enabled:X,is_seat_increase_authorized:(0,M.Z4)(i?[i]:[],eE)}).then(t=>{if(200!==t.status){eZ();return}if(t.data.meta.failed_attempts>0){eJ({multiple:!1});return}n({approve:e,numRequests:1,asyncUpdate:!1})}).catch(()=>{eZ()}).finally(()=>{e4(e=>{let a=new Set(e);return a.delete(t),a}),eW(!1),ts(e=>e+1)})},[eY,eZ,eJ,eQ,X,W,G,tU,eE,e4,eW]),tZ=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a,entryPoint:s=eY})=>{eH(eV.current),eW(a?"approving_all":e?"approving":"declining"),a&&tq&&eS(N.F.enqueue({message:(0,T.t)("admin_dashboard.requests.selected_count_approving",{numSelected:tq}),type:eU,timeoutOverride:1/0,icon:A.zX.SPINNER,preventDismissal:!0,role:"status"}));let n=a||eI,r=e&&(0,M.x9)(n,t,tm),i=new Set(t),l=tU.filter(e=>i.has(e.id)),o={plan_id:W,plan_type:G,entry_point:s,async_processing:r,is_proration_billing_enabled:X,is_seat_increase_authorized:!!a||(0,M.Z4)(l,eE)},d=n?{...o,subtractive:!0,excluded_request_ids:a?[]:tU.map(e=>e.id).filter(e=>!i.has(e)),filter_params:a?tf:tx,timestamp:(e7??new Date).toISOString(),selection_method:a?P.Xv.APPROVE_ALL:P.Xv.BULK_SELECT}:{...o,included_request_ids:t,selection_method:P.Xv.BULK_SELECT,filter_params:tf},c=(t,a,s)=>{if(200!==t){eZ();return}if(a>0){eJ({multiple:!0});return}eQ({approve:e,numRequests:s,asyncUpdate:r})},u=()=>{eW(!1),eH(0),n&&tt(e=>e+1),eI&&eN(!1)};e?ef.w.approveRequests.bind(ef.w)(d).then(e=>{if(c(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),r){let t=e.data.meta.processed_request_ids;e6(e=>new Set([...e,...new Set(t)]))}ts(e=>e+1)}).catch(()=>{eZ()}).finally(()=>{a&&eS(N.F.dequeue({matchType:eU})),u()}):ef.w.denyRequests.bind(ef.w)(d).then(e=>{c(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),ts(e=>e+1)}).catch(()=>{eZ()}).finally(()=>{u()})},[tf,eY,eS,eZ,eJ,eQ,tx,tm,X,e7,W,G,tU,eE,eI,eW,tq]),t0=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a=!1,shouldProcessAsSingleRequest:s=!1,singleRequestSelectionMethod:n,successHandler:r=eQ,sprig:i,isHandlingInFlyout:l=!1})=>{let o=l?M.A$:eY,d="dashDeepLinkEntryPoint"in ez&&ez.dashDeepLinkEntryPoint||o;(()=>{if(s){let a=n||P.Xv.SINGLE;tJ({approve:e,requestId:t[0],selectionMethod:a,entryPoint:d,successHandler:r})}else tZ({approve:e,selectedRequestIds:t,approveAll:a})})(),i&&s&&i("track",e?"admin-dashboard-request-approved":"admin-dashboard-request-declined"),i&&G===P.ps.TEAM&&!e&&t.some(e=>tH.has(e))&&i("track","admin-dashboard-dev-mode-decline")},[G,eQ,eY,tJ,tZ,tH,ez]),{requestFlyout:t1}=(0,ee.m)({request:tW,billingGroups:tc,flyoutRef:H,open:!!tW,onClose:t$,onApprove:()=>t0({approve:!0,selectedRequestIds:tW?[tW.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:P.Xv.SINGLE,sprig:eT,isHandlingInFlyout:!0}),onDecline:()=>t0({approve:!1,selectedRequestIds:tW?[tW.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:P.Xv.SINGLE,sprig:eT,isHandlingInFlyout:!0}),trackingName:eG,trackingProperties:{requestId:tW?.id}}),t9=n.useCallback(e=>{let t=e.name||e.email||(0,T.t)("admin_dashboard.requests.no_name");return(0,s.jsx)(ev.az,{entity:{id:e.userId,name:t,email:e.email??void 0,imgUrl:e.imgUrl},badge:e.orgPermission===ep._D.GUEST?{color:h.zE.DEFAULT,text:(0,T.t)("admin_dashboard.requests.badge.guest")}:void 0,size:24,defaultText:P.Lv,includeUserEmailAddress:!0,className:eD.U0})},[]),t4=n.useCallback(e=>{if(!(0,ei.dA)(e.billableProductKey))return(0,s.jsxs)(s.Fragment,{children:[" ",(0,q.tI)(e.billableProductKey)]});{let t=e.billableProductKey;return(0,s.jsxs)("div",{className:E.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(R.B,{type:t,size:"24"}),(0,q.tI)(e.billableProductKey)]})}},[]),t2=n.useCallback(e=>(0,s.jsx)("div",{className:e.hasBeenNudged?eD.cp:void 0,"data-tooltip-type":e.hasBeenNudged?ex.Ib.TEXT:void 0,"data-tooltip":(0,T.t)("admin_dashboard.requests.sent_you_a_reminder",{requesterName:e.name??e.email??""}),children:(0,s.jsx)(v.h1,{capitalize:!0,date:e.lastNudgedAt??e.createdAt})}),[]),t6=e=>e.lastNudgedAt?e.lastNudgedAt.getTime():e.createdAt.getTime(),t5=n.useMemo(()=>[{name:(0,T.t)("admin_dashboard.requests.columns.name"),className:eD.Mc,cellComponent:t9},{name:(0,T.t)("admin_dashboard.requests.columns.seat_type"),className:eD.eF,cellComponent:t4},{name:(0,T.t)("admin_dashboard.requests.columns.requested"),className:eD.jR,cellComponent:t2,sorting_key:M.BC.REQUESTED,getSortValue:t6,sortNumerically:!0},{name:(0,T.t)("admin_dashboard.requests.columns.note"),className:eD.P_,cellComponent:e=>(0,s.jsx)(j.G,{text:e.message??"",showTooltip:S.i.NEVER,className:E.s.colorTextSecondary.$})}],[t9,t4,t2]),t3=e=>{let a=e?P.V7.ALL_MANAGED_REQUESTS:P.V7.ALL_ORG_REQUESTS,n=e?et.xo:et.OW,r=e?(0,T.tx)("admin_dashboard.managed_org_requests.title"):(0,T.tx)("admin_dashboard.all_org_requests.title",{orgName:"loaded"===tj.status?tj.data?.org?.name:"org"});return(0,s.jsxs)("div",{role:"button",tabIndex:0,className:E.s.flex.gap8.itemsCenter.font11.fontMedium.lh16.mr8.py4.px8.if(tn===a,E.s.colorText.bRadius5.colorBgPressed,E.s.colorTextSecondary).$,onClick:()=>{tr(a),tl(a),ts(0===ta?1:0)},"data-onboarding-key":n,"data-test-id":e?"your-requests-tab":"all-org-requests-tab",children:[r,(0,s.jsx)(F.E,{isOrgAdmin:!!t,managedRequests:e,planId:W,planType:G,processedRequestIds:e5,refreshNonce:te,refreshTabCountNonce:ta,selectedRequestView:tn,showAllOrgRequests:tA??!1,showBillingGroupAdminRequests:tC,viewableBillingGroupIds:t?[null,...tp]:tp})]})},t7=(0,s.jsxs)("div",{className:E.s.flex.columnGap8.pl16.$,children:[tm&&t&&(0,s.jsx)(D.eS,{}),(!tm||t)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.Rj,{planId:W,planType:G,configuredUpgradeRequestSetting:tw}),(0,s.jsx)(ew,{})]}),tF&&(0,s.jsx)(C.V,{variant:"primary",onClick:()=>{if(null===tO||null===tq)return;let t=eP?l.lQ:()=>t0({approve:!0,approveAll:!0,selectedRequestIds:[]});if(tq===tO&&tq<1){t();return}eS(Y.to({type:U.W,data:{plan:e,numRequestsToApprove:tq,filteredRowCount:tO,isELA:tR,onConfirm:t,entryPoint:eY}}))},innerText:"Approve all",dataTestId:"approve-all-button",disabled:null===tq||!!eP,trackingProperties:{trackingDescriptor:Q.c.APPROVE_ALL},trackingOptions:ej,children:(0,s.jsx)(D.Zu,{text:(0,T.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all"===eP})})]}),t8=(0,s.jsx)("div",{className:E.s.h32.cursorDefault.selectNone.$,children:(0,s.jsxs)(w.Y,{spacing:0,children:[(0,s.jsx)(w.Y,{spacing:0,children:[!0,!1].map(e=>t3(e))}),(0,s.jsx)(w.M,{}),t7]})}),ae=(0,s.jsxs)(s.Fragment,{children:[!!tA&&tc.length>0&&t8,(0,s.jsxs)(w.Y,{padding:{top:4,bottom:8},strokeColor:"default",strokeWidth:{bottom:1},children:[(0,s.jsx)(y.y2,{onChange:e=>tz((0,P.Bk)(e)),query:eA,clearSearch:()=>eC(""),placeholder:(0,T.t)("admin_dashboard.requests.search_requests.placeholder"),maxInputLength:P.MI}),(0,s.jsx)(w.M,{}),(tA||tC)&&(0,s.jsx)(eF,{type:P.L8,dataTestId:"user-type-filter",isDefaultFilter:null===to,defaultFilterLabel:(0,T.tx)("admin_dashboard.requests.filter.user_type_default"),filterLabel:(0,T.tx)("admin_dashboard.requests.filter.user_type",{selectedUserTypeFilter:(0,s.jsx)("span",{className:E.s.fontBold.$,children:tY(to)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.MM,{checked:null===to,onClick:()=>td(null),children:(0,T.t)("admin_dashboard.requests.all_users")}),(0,s.jsx)(x.wv,{}),Object.values(P.r1).map(e=>(0,s.jsx)(x.MM,{checked:to===e,onClick:()=>td(e),children:tY(e)},e))]})}),(0,s.jsx)(eF,{type:"UPGRADE_REQUESTS_SEAT_TYPE_DROPDOWN",dataTestId:"seat-type-filter",isDefaultFilter:null===eR,defaultFilterLabel:(0,T.tx)("admin_dashboard.requests.filter.seat_type_default"),filterLabel:(0,T.tx)("admin_dashboard.requests.filter.seat_type",{selectedSeatTypeFilter:(0,s.jsx)("span",{className:E.s.fontBold.$,children:(0,q.tI)(eR??ei.Gu.VIEW)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.MM,{checked:null===eR,onClick:()=>ek(null),children:(0,T.t)("admin_dashboard.requests.filter.seats_all_option")}),(0,s.jsx)(x.wv,{}),el.N_.sort(eo.AG).map(e=>(0,s.jsx)(x.MM,{checked:eR===e,onClick:()=>ek(e),children:(0,q.tI)(e)},e))]})}),tX&&(0,s.jsx)(eF,{type:P.OL,dataTestId:"billing-group-filter",isDefaultFilter:ti===tn,defaultFilterLabel:(0,T.tx)("admin_dashboard.requests.filter.billing_group_default"),filterLabel:(0,T.tx)("admin_dashboard.requests.filter.billing_group",{selectedBillingGroupFilter:(0,s.jsx)("span",{className:E.s.fontBold.$,children:ti===P.V7.ALL_ORG_REQUESTS||ti===P.V7.ALL_MANAGED_REQUESTS?(0,T.t)("admin_dashboard.requests.from_all"):ti===P.V7.ALL_UNASSIGNED_REQUESTS?(0,T.t)("admin_dashboard.requests.from_unassigned"):tc.find(e=>e.id===ti).name})}),renderFilterOptions:()=>{let e=tn===P.V7.ALL_ORG_REQUESTS?tc:t_,t=[{key:tn,label:(0,T.t)("admin_dashboard.requests.from_all")}];return tC||t.push({key:P.V7.ALL_UNASSIGNED_REQUESTS,label:(0,T.t)("admin_dashboard.requests.from_unassigned")}),(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(x.MM,{checked:ti===e.key,onClick:()=>tl(e.key),children:e.label},e.key)),(0,s.jsx)(x.wv,{}),(0,s.jsx)(x.MM,{disabled:!0,checked:!1,onClick:l.lQ,children:(0,T.tx)(tn===P.V7.ALL_ORG_REQUESTS?"admin_dashboard.requests.billing_groups":"admin_dashboard.requests.your_billing_groups")}),e.map(e=>(0,s.jsx)(x.MM,{checked:ti===e.id,onClick:()=>tl(e.id),children:e.name},e.id))]})}})]})]});return(0,s.jsxs)(K.fu,{name:J.e0.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:tm?W:void 0,teamId:G===P.ps.TEAM?W:void 0,entryPoint:"dashDeepLinkEntryPoint"in ez?ez.dashDeepLinkEntryPoint:"",isBillingRemodelEnabled:!0},trackingOptions:ej,children:[(0,s.jsx)(er.K,{title:(0,T.t)("admin_dashboard.requests.seat_title"),rightActions:!tA||tc.length<1?t7:void 0}),(0,s.jsx)("div",{className:u()(eD.M2,E.s.if(!tA||0===tc.length,E.s.pt4,E.s.pt12).$),children:(0,s.jsx)(eb.Cj,{actionBar:"approving_all"===eP?void 0:t=>tB?(0,s.jsx)("div",{className:E.s.w150.$,children:(0,s.jsx)(b.Wi,{className:E.s.h12.w150.$,animationType:b.JR.SHIMMER_ON_MENU})}):(0,s.jsx)("div",{className:eD.$h,children:(0,s.jsxs)(w.Y,{spacing:8,children:[(0,s.jsx)(C.V,{variant:"toolbar-secondary",disabled:!!eP,onClick:eP?l.lQ:()=>t0({approve:!1,selectedRequestIds:t.map(e=>e.id),sprig:eT}),innerText:"Decline",dataTestId:"decline-button-multiple",trackingProperties:{trackingDescriptor:Q.c.DECLINE},trackingOptions:ej,children:(0,s.jsx)(D.Zu,{text:(0,T.t)("admin_dashboard.requests.decline"),showSpinner:"declining"===eP})}),(0,s.jsx)(C.V,{variant:"primary",disabled:!!eP,onClick:eP?l.lQ:()=>eS(Y.to({type:Z,data:{plan:e,requestsToApprove:t,seatAvailability:eE,isELA:tR,calculateCostForSeatTypeBulkIncrease:(e,t)=>void 0,onConfirm:()=>t0({approve:!0,selectedRequestIds:t.map(e=>e.id)})}})),innerText:"Review",dataTestId:"approve-button-multiple",trackingProperties:{trackingDescriptor:Q.c.REVIEW},trackingOptions:ej,children:(0,P.Zm)({text:(0,T.t)("admin_dashboard.requests.multi_select.review"),showSpinner:"approving"===eP})})]})}),actionBarClassName:u()(eD.KY,tB?void 0:eD.h4),columns:t5,disabled:!!eP,emptyContent:(c=0===eA.length&&null===eR&&ti===tn&&null===to?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:E.s.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$,children:(0,T.tx)(tw&&tC?"admin_dashboard.requests.empty.configurable_upgrade_requests":"admin_dashboard.requests.no_requests_to_approve")}),(0,s.jsx)("div",{style:I.sx.add({maxWidth:"500px"}).lh16.cursorDefault.alignCenter.colorTextSecondary.$,children:tw?tw===eh.Sm.MEMBERS?(0,T.tx)("admin_dashboard.configured_upgrade_request_empty_state.members"):(0,T.tx)("admin_dashboard.configured_upgrade_request_empty_state.all_users"):(0,T.tx)("admin_dashboard.requests.when_a_seat_request_needs_to_be_reviewed")})]}):eA.length>0&&null===eR&&ti===tn&&null===to?(0,s.jsx)("div",{className:E.s.lh16.cursorDefault.colorText.$,children:(0,T.tx)("admin_dashboard.requests.empty.no_search_results")}):(0,s.jsx)("div",{className:E.s.lh16.cursorDefault.colorText.$,children:(0,T.tx)("admin_dashboard.requests.empty.no_filter_results",{resetFiltersLink:(0,s.jsx)(f.CY,{trusted:!0,onClick:()=>{ek(null),tl(tn),eC(""),td(null)},children:(0,T.tx)("admin_dashboard.requests.empty.reset_filters")})})}),(0,s.jsx)(w.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center",children:c})),getItemKey:e=>e.id,getTotalSelected:tB?void 0:(e,t)=>{let a;return a=eI&&tO?Math.max(1,tO-(t.length-e.length)):e.length,eV.current=a,a},hasNewScrollContext:!0,highlightState:{itemKey:tW?.id??null,setItemKey:tV},isLoading:tk,itemTypeContext:{itemType:P.k_,getSelectedCountString:e=>tB?"":"approving"===eP?(0,T.t)("admin_dashboard.requests.selected_count_approving",{numSelected:e$}):"declining"===eP?(0,T.t)("admin_dashboard.requests.selected_count_denying",{numSelected:e$}):(0,T.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},items:tU,minContentWidth:928,onFetchMore:tT?()=>{tS&&tv?.data?.adminDashboardRequests?.loadNext(25)}:void 0,onRowClick:e=>{e.id===tW?.id?t$():tV(e.id)},onSelectedItemsChange:e=>{0===e.length&&eN(!1)},onSetSortState:()=>eM(e=>e===P.i5.NEWEST_FIRST?P.i5.OLDEST_FIRST:P.i5.NEWEST_FIRST),onToggleSelectAll:e=>{eN(!e),t$()},rightActionColumns:[{name:"approve-single-column",className:eB.oi,cellComponent:t=>(0,s.jsx)(eO,{request:t,plan:e,numRowsSelected:eV,handleRequests:t0,isELA:tR,isProrationBillingEnabled:X})},{...ey.VU,cellComponent:e=>(0,s.jsx)(eL,{request:e,setHighlightedItemId:tV})}],scrollBarAlwaysVisible:!0,scrollContentRef:$,sortState:(0,M.W4)(eq),stickyContent:ae,unselectableItemKeys:e9})}),t1]})}},249054:(e,t,a)=>{a.d(t,{KB:()=>n,LX:()=>i,lR:()=>r,qf:()=>l,tg:()=>s});let s=443==a.j?"Admin settings onboarding - admin nav changes -":null,n="admin_sidebar_plan_information_onboarding_key",r="admin_sidebar_back_to_files_onboarding_key",i="admin_dashboard_onboarding_key",l="admin_seat_approval_settings_onboarding_key"},417450:(e,t,a)=>{a.d(t,{g:()=>i});var s=a(143277),n=a(441030);let r=[n.rRT,n.TaD,n.Clh,n.Msu,n.LPt];function i(e){let t=r.indexOf(e);if(-1===t)return console.warn("Add overlay to ADMIN_DEFAULT_PLUS_OVERLAYS to set relative priority",e),s.N.DEFAULT_MODAL;let a=r.length;return s.N.DEFAULT_MODAL+(a-t)/a}},199432:(e,t,a)=>{a.d(t,{p:()=>p});var s=a(104076),n=a(903927),r=a(821655),i=a(369729),l=a(417528),o=a(192075),d=a(366535),c=a(111297),u=a(959834),m=a(432786);let _=(0,u.Ju)(function(e){return(0,s.jsx)(c.fu,{name:"Enable AI Features Modal",properties:{planId:e.planId,planType:e.planType},children:(0,s.jsx)(m.Dd,{title:(0,o.t)("admin_settings.ai.features_toggle.modal.header"),maxWidth:440,minWidth:440,fixedTop:!1,onConfirm:e.onEnable,confirmText:(0,o.t)("admin_settings.ai.features_toggle.modal.button"),children:(0,s.jsx)("div",{children:(0,o.tx)("admin_settings.ai.features_toggle.modal.description")})})})},"EnableAiFeaturesModal");function p(e){let t=(0,n.wA)();return(0,s.jsxs)(r.Yy,{variant:"brand","data-testid":e.testId,children:[(0,s.jsx)(i.Q,{title:(0,o.t)("admin_settings.ai.banner.title"),children:(0,s.jsx)("span",{style:{marginRight:8},children:(0,o.tx)("admin_settings.ai.banner.description")})}),(0,s.jsx)(l.N,{href:"#",onClick:()=>{t(d.to({type:_,data:{onEnable:()=>{e.onEnable()},planId:e.planId,planType:e.planType}}))},children:(0,o.tx)("admin_settings.ai.features_toggle.enable_ai")})]})}},880128:(e,t,a)=>{let s;a.d(t,{r:()=>i});var n=a(797874),r=a(959834);function i(){return s??=(0,r.Ju)(n.A.createLazyComponent(()=>Promise.all([a.e(6516),a.e(1512),a.e(5328),a.e(1565),a.e(4023),a.e(2819),a.e(8046),a.e(8234),a.e(6181),a.e(4334),a.e(6048)]).then(a.bind(a,157203)).then(e=>e.UpdateTeamDescriptionModal),(0,r.Ij)("UpdateTeamDescriptionModal")))}},266966:(e,t,a)=>{a.d(t,{I:()=>l});var s=a(104076),n=a(638004),r=a(1188),i=a(111297);function l(e){return(0,s.jsx)(r.tH,{boundaryKey:e.trackingName,team:e.team??n.e.SCALE,fallback:r.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,s.jsx)(i.fu,{name:e.trackingName,enabled:e.open,properties:e.trackingProperties,children:e.children})})}},143928:(e,t,a)=>{a.d(t,{K:()=>h});var s=a(104076),n=a(903927);if(443==a.j)var r=a(475477);if(443==a.j)var i=a(293422);if(443==a.j)var l=a(803126);var o=a(755444),d=a(816565),c=a(236631),u=a(192075),m=a(911990);if(443==a.j)var _=a(551668);var p=a(366535),g=a(904017);function h(e){let t=(0,n.wA)(),a=(0,g.px)(),h=(0,g.Um)(a).unwrapOr(!1),x=(0,s.jsxs)(r.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",children:[" ",(0,u.tx)("resource_connection.request_modal.learn_more")," "]});return(0,s.jsxs)(m.Y,{width:"fill-parent",height:"fill-parent",direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:16,padding:32,children:[(0,s.jsx)(d.oW,{src:(0,o.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:150}),(0,s.jsx)("div",{className:c.s.textHeadingMedium.$,children:(0,u.t)("connected_projects_table.collaborate_in_a_connected_project")}),(0,s.jsx)("div",{className:c.s.textBodyLarge.$,style:{width:"508px",textAlign:"center"},children:h?(0,u.tx)("resource_connection.admin_ui.create_a_connected_project_body_for_permissioned_user_v3"):(0,u.tx)("resource_connection.admin_ui.connected_projects_help_you_collaborate_and_share_resources_with_external_teams",{learnMore:x})}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.$n,{iconPrefix:(0,s.jsx)(l.e,{}),variant:"primary",onClick:()=>{t(p.to({type:_.B,data:{entryPoint:e.entryPoint}}))},children:(0,u.t)("resource_connection.admin_ui.connect_project")}),x]}),(0,s.jsx)("div",{className:c.s.h100.$})]})}},852263:(e,t,a)=>{a.d(t,{A:()=>A});var s=a(104076),n=a(716976),r=a(903927),i=a(475477),l=a(821655),o=a(369729),d=a(293422),c=a(642186),u=a(812714),m=a(511570),_=a.n(m),p=a(755444),g=a(449572),h=a(816565),x=a(236631),f=a(192075),v=a(629253),b=a(551668),y=a(366535),j=a(443192),S=a(745101),E=a(59849),T=a(904017),I=a(232362);let N="connected_projects_tab_header--headerContainer--Rz5m6";function A(){let e=(0,r.wA)(),t=(0,T.px)(),a=(0,T.S2)().unwrapOr(null),m=(0,T.Um)(t).unwrapOr(!1),A=a?.tier,w=a?.connectionCount??0,C=(0,S.N)(a?.key,()=>{e(y.to({type:b.B,data:{entryPoint:v.wR.CONNECTED_PROJECT_ADMIN_UI}}))}),R=(0,s.jsx)(i.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",children:(0,f.tx)("resource_connection.request_modal.learn_more")}),k=(0,g.Rs)(E.sMZ,{name:"seen_connected_projects_org_member_banner"}),O=n.useMemo(()=>"loaded"!==k.status||!!k.data?.currentUser?.userFlagByName,[k]),q=(0,u.kc)().fc_initial_onboarding_enabled&&!O?(0,s.jsx)("div",{className:_()(x.s.pt10.$,N),children:(0,s.jsx)(l.Cs,{variant:"brand",icon:(0,s.jsx)(c.L,{style:{"--color-icon":"var(--color-icon-brand)"}}),onDismiss:()=>{e(j.b({seen_connected_projects_org_member_banner:!0}))},children:(0,s.jsx)(o.Q,{children:(0,f.tx)("resource_connection.connected_projects_tab.connected_projects_help_you_collaborate",{learnMore:R})})})}):(0,s.jsx)(s.Fragment,{});return m?(0,s.jsxs)("div",{className:N,children:[(0,s.jsx)("div",{className:"connected_projects_tab_header--contentContainer--xKmY8",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:x.s.textBodyLarge.$,children:(0,f.tx)("resource_connection.admin_ui.create_a_connected_project_to_collaborate_with_external_teams_without_being_charged_for_their_seats",{learnMore:R})}),(0,s.jsxs)("div",{className:"connected_projects_tab_header--buttonContainer--mL5-t",children:[(0,s.jsx)("div",{children:(0,s.jsx)(d.$n,{onClick:C,children:(0,f.t)("resource_connection.admin_ui.connect_project")})}),(0,s.jsx)("div",{className:x.s.colorTextSecondary.$,children:a&&A&&w?a.unlimitedConnectionsEnabled||a.testingOnlyUnlimitedConnectionsEnabled?(0,f.tx)("resource_connection.admin_ui.unlimited_connections",{numConnections:w}):I.b[A]-w>0?(0,f.tx)("resource_connection.admin_ui.using_num_of_connections",{numConnections:w,maxConnections:I.b[A]}):(0,f.tx)("resource_connection.admin_ui.maxed_out_connections",{maxConnections:I.b[A],planTier:(0,I.A)(A)}):null})]})]})}),(0,s.jsx)(h.oW,{src:(0,p.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:115,height:80})]}):q}},297109:(e,t,a)=>{a.d(t,{m:()=>S});var s=a(104076),n=a(716976),r=a(498349),i=a(917360),l=a(420680),o=a(268389),d=a(423128),c=a(511570),u=a.n(c),m=a(561839),_=a(210913),p=a(173272),g=a(858959),h=a(262019),x=a(236631),f=a(192075);let v=(0,n.createContext)(null);function b(){let e=(0,n.useContext)(v);if(!e)throw Error("missing FlyoutContext for flyout! does the current component have a Flyout.Root parent?");return e}function y(){return b().close}function j(){let e=y();return(0,s.jsx)("div",{className:u()(x.s.absolute.flex.itemsCenter.justifyCenter.$,"flyout--close--SKgKT"),children:(0,s.jsx)(l.K,{onClick:()=>e("button"),"aria-label":(0,f.t)("modal.close"),children:(0,s.jsx)(d.A,{})})})}let S={Root:(0,n.forwardRef)((e,t)=>{let a=(0,n.useMemo)(()=>({ref:t,close:e.onClose}),[e.onClose,t]);return(0,s.jsx)(v.Provider,{value:a,children:(0,s.jsx)(m.N,{initial:!1,children:e.open?(0,s.jsx)(n.Fragment,{children:e.children},"contents"):null})})}),Contents:function({children:e,...t}){let{close:a,ref:l}=b(),o=(0,h.M)(l);(0,n.useEffect)(()=>{let e=o.current;if(!e)return;let t=e=>{"Escape"===e.key&&(e.preventDefault(),a("escape"))};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[a,o]);let[d,c]=(0,_.xQ)(),m=(0,p.d)("translateX(100%)");return(0,n.useEffect)(()=>{let e;return d?m.set("none"):(m.set("translateX(100%)"),e=setTimeout(c,600)),()=>{clearTimeout(e)}},[d]),(0,s.jsx)(r.i,{children:(0,s.jsx)(i.b,{...t,className:u()(x.s.fixed.top0.right0.bottom0.left0.zIndexModal.colorText.eventsNone.$,t.zIndexOverrideClassName),ref:o,children:(0,s.jsx)("div",{className:u()(x.s.my0.mr0.mlAuto.top0.wFull.eventsAuto.$,"flyout--contents--g9Ra6"),children:(0,s.jsxs)(g.P.div,{className:x.s.hFull.elevation400.colorBg.flex.flexColumn.$,style:{transform:m,...d?{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1)"}:{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1), visibility 0s 500ms",visibility:"hidden"}},onTransitionEnd:e=>{"transform"!==e.propertyName||d||c()},children:[(0,s.jsx)(j,{}),e]})})})})},Header:function(e){return(0,s.jsx)("div",{className:u()(x.s.minH40.bb1.colorBorder.bSolid.flex.itemsCenter.selectNone.flexShrink0.overflowHidden.$,"flyout--header--AZ5ed"),children:e.children})},HiddenTitle:o.r1,Title:function(e){return(0,s.jsx)(i.J,{className:x.s.textBodyMediumStrong.pl16.pr4.wFull.noWrap.ellipsis.overflowHidden.$,children:e.children})},Body:function(e){let{height:t,...a}=e;return(0,s.jsx)("div",{className:u()(x.s.overflowAuto.if("fill"===e.height,x.s.hFull).$,"flyout--body--2bx8h"),"data-testid":"flyout-body",children:a.children})},useClose:y}},248486:(e,t,a)=>{a.d(t,{v:()=>l});var s=a(716976);if(443==a.j)var n=a(328167);var r=a(703630);let i=443==a.j?["Enter"," "]:null;function l(e,t={}){let[a,o]=(0,s.useState)(null),d=(0,r.H)(t),c=(0,s.useRef)(),u=(0,s.useCallback)(e=>{o(null),c.current??=e},[]),m=(0,s.useMemo)(()=>{if(a)return e(a)},[a,e]),_=a&&!m;return(0,s.useEffect)(()=>{if(!a&&c.current){let e=t.onClear;e?.(c.current),c.current=void 0}},[a,t.onClear]),(0,s.useEffect)(()=>{a&&!_&&d.current.onHighlight?.()},[_,a,d]),(0,s.useEffect)(()=>{_&&u("item-missing")},[_,u]),(0,s.useEffect)(()=>{let e=d.current?.interactionConfig;if(!a||!e)return;let t=t=>{let a=new Map;e.forEach(e=>{e.ref.current&&a.set(e.ref.current,e.shouldClearHighlight)});let s=(0,n.SD)(t.target);for(;s;){let e=a.get(s);if("boolean"==typeof e)return e;s=s.parentElement}return!1},s=e=>{t(e)&&u("other-interaction")},r=e=>{i.includes(e.key)&&t(e)&&u("other-interaction")},l=e=>{t(e)&&setTimeout(()=>u("other-interaction"),0)};return document.body.addEventListener("pointerdown",s,{capture:!0}),document.body.addEventListener("keydown",r,{capture:!0}),document.body.addEventListener("input",l,{capture:!0}),()=>{document.body.removeEventListener("pointerdown",s,{capture:!0}),document.body.removeEventListener("keydown",r,{capture:!0}),document.body.addEventListener("input",l,{capture:!0})}},[a,u,d]),{highlightedItem:m,setHighlightedItemId:o,clearHighlightedItemId:u}}},146171:(e,t,a)=>{a.d(t,{b:()=>o});var s=a(716976),n=a(638004),r=a(883765),i=a(542663),l=a(111297);function o(e){let{properties:t}=(0,l.j6)(),a=(0,i.L)(n.e.MONETIZATION_EXPANSION);return(0,s.useCallback)(s=>{(0,r.sx)("admin_flyout_closed",{...t,flyout_id:e,reason:s},a)},[t,e,a])}},487810:(e,t,a)=>{a.d(t,{B:()=>l,z:()=>i});var s=a(104076),n=a(716976);let r=(0,n.createContext)(null);function i(e){return(0,s.jsx)(r.Provider,{value:e.layoutRef,children:e.children})}function l(){let e=(0,n.useContext)(r);if(!e)throw Error("useLayoutRef must be used within LayoutRefProvider");return e}},336972:(e,t,a)=>{a.d(t,{S:()=>e_,d:()=>ep});var s=a(104076),n=a(716976),r=a(903927),i=a(65545),l=a(951002),o=a(382629),d=a(638004),c=a(929302),u=a(91478),m=a(268389),_=a(475477),p=a(73795),g=a(120440),h=a(883765),x=a(833805),f=a(550209),v=a(1188),b=a(520741),y=a(236631),j=a(352630),S=a(192075),E=a(58212),T=a(638641),I=a(911990),N=a(205729),A=a(418149),w=a(944350),C=a(412469),R=a(608175),k=a(328213);w.Ag.STUDENT,w.Ag.STARTER;let O=A.N_.dict(()=>"-");var q=a(244205),L=a(111297),M=a(514359),P=a(649693),D=a(285091),F=a(904017),B=a(563554),U=a(181793),G=a(959834),W=a(826160),V=a(434225),$=a(665261),H=a(530361),z=a(659062),Y=a(871898),Q=a(476261),K=a(283559),X=a(594209),J=a(987405),Z=a(894210);function ee({billableProductKey:e,upgradeApprovalSetting:t,isSelected:a,setUpgradeApprovalSetting:n,isLastOption:r,isELA:i,isProrationBillingEnabled:l,isProvisionalAccessEnabled:o}){let d=(0,Q.SI)(t),c=(0,Q.kj)(t,i,l,o),u=(0,Q.NU)(t,i);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{"data-testid":"upgrade-approval-settings-dropdown-option","data-tooltip":u,"data-tooltip-hide-immediately":!0,"data-tooltip-max-width":"200px","data-tooltip-show-immediately":!0,"data-tooltip-show-left":!0,"data-tooltip-text-left":!0,"data-tooltip-type":Z.Ib.TEXT,children:(0,s.jsx)($.c$,{id:`${e}_${t}`,onClick:()=>n(e,t),disabled:!!u,children:(0,s.jsxs)(I.Y,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",padding:{top:8,bottom:8,left:0,right:4},children:[(0,s.jsx)(J.l,{style:z.sx.add({"--color-icon":"var(--color-icon-onbrand)"}).if(a,z.sx.visible,z.sx.invisible).$}),(0,s.jsxs)(I.Y,{direction:"vertical",spacing:0,children:[(0,s.jsx)("div",{className:y.s.textBodyMedium.$,children:d}),(0,s.jsx)("div",{className:y.s.textBodyMedium.preWrap.if(!u,y.s.colorTextMenuSecondary).$,children:c})]})]})},`${e}_${t}`)}),!r&&(0,s.jsx)($.wv,{})]})}let et=[i.zRx.MANUAL_APPROVAL,i.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS,i.zRx.INSTANT_APPROVAL];function ea({priceString:e,billableProductKey:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:r,isELA:i,shouldHidePrice:l,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d}){let c=(0,Q.CM)(t),u=(0,n.useMemo)(()=>et.map((e,n,l)=>(0,s.jsx)(ee,{billableProductKey:t,upgradeApprovalSetting:e,isSelected:a===e,setUpgradeApprovalSetting:r,isLastOption:n===l.length-1,isELA:i,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d},`${t}_${e}`)),[t,i,a,r,o,d]);return(0,s.jsxs)(I.Y,{direction:"vertical",spacing:8,dataTestId:`auto-approval-settings-selector-${t}`,children:[(0,s.jsx)(I.Y,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"start",children:(0,s.jsxs)(I.Y,{direction:"horizontal",horizontalAlignItems:"space-between",children:[(0,s.jsxs)(I.Y,{direction:"horizontal",children:[(0,s.jsx)(Y.B,{type:t,size:"24"}),(0,s.jsx)("div",{className:y.s.textBodyMediumStrong.$,children:c})]}),(0,s.jsx)(es,{shouldHidePrice:l,priceString:e,seatType:t})]})}),(0,s.jsx)($.Ve,{label:(0,Q.SI)(a),options:u,className:y.s.wFull.radiusMedium.$,dropdownOptionsClassName:y.s.wFull.$})]})}function es({shouldHidePrice:e,seatType:t,priceString:a}){let n=e?(0,S.t)("general.whats_included_aria_label",{seatType:(0,X.Q)(t)}):(0,S.t)("general.price_per_month",{priceString:a}),r=(0,s.jsx)("div",{"data-testid":`${t}-price`,style:z.sx.noWrap.colorTextSecondary.$,children:e?(0,S.tx)("general.whats_included"):(0,S.tx)("general.price_per_month",{priceString:a})});return(0,s.jsx)(H.b,{type:"listbox",text:r,popoverContent:(0,s.jsx)("div",{style:z.sx.flex.flexColumn.gap8.$,children:(0,s.jsx)(K.i,{seatType:t,spacing:8})}),ariaLabel:n})}let en=i.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS;function er(e){let t=(0,r.wA)(),{currency:a,renewalTerm:i}=e,p=c.hS({open:e.open,onClose:e.onClose}),g=(0,D.d)({reportErrorsToTeam:d.e.SCALE}),h=(0,k.k)(),v=(0,F.S2)(),[b]=(0,x.mI)(v),I=!!b.data?.campfireProvisionalAccessEnabled,G=(0,M.i6)(),V=G.data;if(n.useEffect(()=>{"errors"===G.status&&console.error("orgManagesSeatsViaScimQueryResult error",G.errors)},[G]),"loaded"!==b.status){let e=Error("disabled"===b.status?"Plan fetching disabled":"Error fetching plan");throw(0,f.$D)(d.e.MONETIZATION_EXPANSION,e),e}let $=b.data;if(!$){let e=Error("No Plan found");throw(0,f.$D)(d.e.MONETIZATION_EXPANSION,e),e}let{billableProductKeyContractPrices:H,status:z}=function(e,t,a){let s=(0,N.Ln)(e.key,A.N_,{renewalTerm:a,unit:R.IX.MONTH}),[n]=(0,x.mI)(s),r=(0,k.k)(),i="disabled"===n.status?Error("Missing contract rate args."):"errors"===n.status?Error("Error while fetching pricing."):void 0;if(i&&(0,f.$D)(d.e.MONETIZATION_EXPANSION,i),i||!t)return{billableProductKeyContractPrices:O,status:n.status};let{data:l}=n;if(null===l||!r)return{billableProductKeyContractPrices:O,status:n.status};let c=new C.vr(t);return{billableProductKeyContractPrices:A.N_.dict(e=>{if(!(0,o.uy)(l[e]))return c.formatMoney(l[e].amount,{showCents:!1})}),status:n.status}}($,a,i),[Y,Q]=(0,n.useState)(A.N_.dict(e=>{switch(e){case P.ud.EXPERT:return $.upgradeApprovalSettingsExpert??en;case P.ud.DEVELOPER:return $.upgradeApprovalSettingsDeveloper??en;case P.ud.COLLABORATOR:return $.upgradeApprovalSettingsCollaborator??en;case P.ud.CONTENT:return $.upgradeApprovalSettingsContent??en;default:(0,l.xb)(e)}})),K=(0,n.useCallback)(async()=>{if(!$.key.type||!$.key.parentId)throw Error("Missing plan key type or parentId.");await U.V.updateUpgradeApprovalSettings($.key.type,$.key.parentId,Y),p.props?.close({source:"button"}),t(E.F.enqueue({message:(0,S.t)("plan_settings.auto_approval_settings.approval_settings_applied"),icon:T.zX.CHECK_WITH_CIRCLE}))},[Y,t,p.props,$.key.parentId,$.key.type]),X=(0,n.useCallback)((e,t)=>{Q(a=>({...a,[e]:t}))},[]),J=g||!a||"errors"===z||!h;return(0,s.jsx)(L.fu,{name:B.e0.AUTO_APPROVAL_SETTINGS_MODAL,properties:{planType:$.key.type,orgId:$.key.type===w.OL.ORG?$.key.parentId:void 0,teamId:$.key.type===w.OL.TEAM?$.key.parentId:void 0},children:(0,s.jsx)(u.bL,{manager:p,width:480,children:(0,s.jsxs)(m.vo,{allowOverflow:!0,children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:y.s.pt32.pb8.px8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)(W.Ro,{entity:{...$,id:$?.id??void 0},shape:"CIRCLE",size:48,className:y.s.mb16.$}),(0,s.jsx)("div",{className:y.s.textHeadingMedium.mb8.$,children:e.isCurfEnabledForMembers?(0,S.tx)("plan_settings.auto_approval_settings.title.curf_enabled_for_members"):(0,S.tx)("plan_settings.auto_approval_settings.title")}),(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:y.s.textBodyMedium.colorTextSecondary.preWrap.$,children:g?e.isCurfEnabledForMembers?(0,S.tx)("plan_settings.auto_approval_settings_subtitle_ela_and_curf_enabled_for_members"):(0,S.tx)("plan_settings.auto_approval_settings_subtitle_ela"):e.isCurfEnabledForMembers?(0,S.tx)("plan_settings.auto_approval_settings.subtitle_curf_members"):(0,S.tx)("plan_settings.auto_approval_settings.subtitle")}),(0,s.jsx)(_.N,{href:"https://help.figma.com/hc/articles/4414038570007",newTab:!0,children:(0,S.tx)("plan_settings.auto_approval_settings.learn_about_seat_management_options")})]}),(0,s.jsxs)("div",{className:y.s.mt24.flex.flexColumn.gap24.mb8.$,children:[Object.keys(Y).map(e=>{let t=H[e];if((0,o.uy)(t))return null;let a=Y[e];return(0,o.uy)(a)?null:(0,s.jsx)(ea,{billableProductKey:e,isELA:g,isProrationBillingEnabled:h,isProvisionalAccessEnabled:I,planName:$.name,priceString:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:X,shouldHidePrice:J},e)}),!!e.isCurfEnabledForMembers&&(0,s.jsx)(eo,{}),V&&!e.isCurfEnabledForMembers&&(0,s.jsx)(el,{}),(0,s.jsx)(ei,{failedToLoadPrices:"errors"===z})]})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsxs)(m.jk,{children:[(0,s.jsx)(j.$z,{variant:"secondary",onClick:()=>p.props?.close({source:"button"}),trackingProperties:{trackingDescriptor:q.c.CANCEL},children:(0,S.tx)("plan_settings.auto_approval_settings.cancel")}),(0,s.jsx)(j.$z,{variant:"primary",onClick:K,trackingProperties:{trackingDescriptor:$.key.type?$.key.type===w.OL.ORG?q.c.SAVE_FOR_ORGANIZATION:q.c.SAVE_FOR_TEAM:q.c.SAVE},children:$.key.type?$.key.type===w.OL.ORG?(0,S.tx)("plan_settings.auto_approval_settings.save_for_plan.organization"):(0,S.tx)("plan_settings.auto_approval_settings.save_for_plan.team"):(0,S.tx)("plan_settings.auto_approval_settings.save_for_plan.no_plan")})]})})]})})})}function ei({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,h.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"seat_approval_settings_modal"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(b._,{dataTestId:"pricing-error-badge",color:b.S.WARNING,padding:8,text:(0,S.tx)("plan_settings.auto_approval_settings.pricing_error")}):null}function el(){return(0,s.jsx)(L.fu,{name:B.e0.SCIM_INFO_BADGE,children:(0,s.jsx)(b._,{dataTestId:"scim-info-badge",color:b.S.INFORMATION,padding:8,text:(0,s.jsxs)(I.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{...g.xk(p.g.textBodyMediumStrong),children:(0,S.tx)("plan_settings.auto_approval_settings.scim_badge.title")}),(0,s.jsx)("p",{children:(0,S.tx)("plan_settings.auto_approval_settings.scim_badge.subtitle")})]})})})}function eo(){return(0,s.jsx)(L.fu,{name:B.e0.CURF_MEMBER_INFO_BADGE,children:(0,s.jsx)(b._,{dataTestId:"curf-member-only-info-badge",color:b.S.INFORMATION,padding:8,text:(0,s.jsxs)(I.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{className:y.s.textBodyMediumStrong.$,children:(0,S.tx)("plan_settings.auto_approval_settings.curf_badge.title")}),(0,s.jsxs)("p",{children:[" ",(0,S.tx)("plan_settings.auto_approval_settings.curf_badge.subtitle")]})]})})})}let ed=(0,G.Ju)(function(e){return(0,s.jsx)(v.tH,{boundaryKey:"AutoApprovalSettingsModal",fallback:v.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:!1,children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(V.N,{hiddenTitle:"Auto Approval Settings",estimatedWidth:480,estimatedHeight:577}),children:(0,s.jsx)(er,{...e})})})});var ec=a(293422);let eu=(0,G.Ju)(function(e){let t=(0,F.S2)().unwrapOr(null),a=c.hS({open:e.open,onClose:e.onClose});return(0,s.jsx)(L.fu,{name:"Auto Approval Settings Modal (CURF All Users)",children:(0,s.jsx)(u.bL,{manager:a,width:480,children:(0,s.jsxs)(m.vo,{children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:y.s.pt32.px8.pb8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)(W.Ro,{entity:{...t,id:t?.id??void 0},shape:"CIRCLE",size:48,className:y.s.mb16.$}),(0,s.jsx)("div",{className:y.s.textHeadingMedium.mb8.$,children:(0,S.tx)("plan_settings.curf_auto_approval_settings_modal.title")}),(0,s.jsx)("span",{className:y.s.textBodyMedium.colorTextSecondary.$,children:(0,S.tx)("plan_settings.curf_auto_approval_settings_modal.description")})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsx)(m.jk,{children:(0,s.jsx)(ec.$n,{variant:"primary",onClick:()=>a.props?.close({source:"button"}),children:(0,S.tx)("plan_settings.curf_auto_approval_settings_modal.got_it")})})})]})})})},"CurfAllUsersAutoApprovalSettingsModal");var em=a(366535);function e_({dispatch:e,currency:t,renewalTerm:a,isCurfEnabledForMembers:s}){return()=>{e(em.to({type:ed,data:{currency:t,renewalTerm:a,isCurfEnabledForMembers:s}}))}}function ep({dispatch:e}){return()=>{e(em.to({type:eu,data:{}}))}}},505189:(e,t,a)=>{let s;a.d(t,{Y:()=>E});var n=a(104076),r=a(716976),i=a(903927),l=a(929302),o=a(91478),d=a(268389),c=a(812714),u=a(520741),m=a(72138),_=a(236631),p=a(192075),g=a(111297),h=a(944350),x=a(562552),f=a(181793),v=a(507665),b=a(959834),y=a(826160),j=a(197600);function S(e){let t=(0,i.wA)(),a=l.hS({open:e.open,onClose:e.onClose}),s=(0,j.lM)(e.entryPoint),[b,S]=r.useState();r.useEffect(()=>{if((0,c.kc)().can_transfer_admin_list)f.V.getTransferAdmins(e.planType,e.planId,e.resourceType,e.resourceIdOrKey).then(({data:e})=>{S(e.meta.map(e=>({id:e.id,name:e.name,email:e.email,imgUrl:e.img_url})))});else if(e.planType===h.OL.ORG){x.Eh.getOrgAdmins({orgId:e.planId}).then(({data:e})=>{S(e.meta)});return}else e.planType===h.OL.TEAM&&v.$.getTeamAdmins({teamId:e.planId}).then(({data:e})=>{S(e.meta)})},[e.planType,e.planId,e.resourceType,e.resourceIdOrKey,t]);let E=e.planName??(0,p.t)("general.fallback_team_name");return(0,n.jsx)(g.fu,{name:"Asset Transfer Admin List Modal",children:(0,n.jsx)(o.bL,{manager:a,width:"lg",children:(0,n.jsxs)(d.vo,{children:[(0,n.jsx)(d.Y9,{children:(0,n.jsx)(d.hE,{children:(0,p.tx)("asset_transfers.editor_admin_list_modal.admins_at_entity",{entity:E})})}),(0,n.jsxs)(d.nB,{scrolling:"none",children:[(0,n.jsx)(u._,{color:u.S.INFORMATION,text:s?(0,p.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_project_to_an_external_organization"):(0,p.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_team_to_an_external_organization")}),(0,n.jsx)(m.P,{className:"asset_transfer_admin_list_modal--scrollContainer--IG5YS",children:(0,n.jsx)("div",{className:"asset_transfer_admin_list_modal--contentContainer--u5vXu",children:(()=>{if(b){let e=b.map(e=>(0,n.jsx)("div",{className:_.s.py8.$,children:(0,n.jsx)(y.az,{entity:e,includeUserEmailAddress:!0,showIsMe:!1,hideFallbackInitial:!1},e.id)},e.id));return(0,n.jsx)("ul",{children:e})}})()})})]})]})})})}function E(){return s??=(0,b.Ju)(S,"AssetTransferAdminListModal")}},235854:(e,t,a)=>{a.d(t,{d:()=>N});var s=a(104076),n=a(716976),r=a(903927),i=a(929302),l=a(91478),o=a(268389),d=a(293422),c=a(190333),u=a(755444),m=a(816565),_=a(679359),p=a(236631),g=a(192075),h=a(58212),x=a(232362),f=a(366535),v=a(111297),b=a(745101),y=a(944350),j=a(904017),S=a(894210),E=a(184664),T=a(959834),I=a(903156);let N=(0,T.Ju)(function(e){let t=(0,r.wA)(),a=()=>{t(f.Ce())},T=(0,j.S2)().unwrapOr(null),N=i.hS({...e,onClose:a}),[A,w]=n.useState(!1),C=e.resourceConnectionInvite.hostPlan,R=e.resourceConnectionInvite.connectingPlan,k=(0,b.N)(T?.key,()=>{E.c.approveResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{w(!1),a(),t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.connection_request_approved")}))}).catch(e=>{w(!1),a(),"Connecting plan has reached active connection and outgoing invite limit"===e.message?t(h.F.enqueue({message:T?.key.type===y.OL.TEAM?(0,g.t)("resource_connection.visual_bell.org_at_limit"):(0,g.t)("resource_connection.visual_bell.team_at_limit"),error:!0})):"Connecting plan cannot have external collaboration controls enabled"===e.message?t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.org_must_disable_ecc"),error:!0})):"Host settings"===e.message?t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.host_settings",{hostPlanName:C.name}),error:!0})):t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},e.resourceConnectionInvite.id);return T?(0,s.jsx)(v.fu,{name:"Project Connection Confirm Modal",properties:{folderId:e.resourceConnectionInvite.resourceId},children:(0,s.jsx)(l.bL,{manager:N,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:(0,g.tx)("resource_connection.confirm_modal.connect_with_host_plan",{hostPlanName:C.name})})}),(0,s.jsxs)(o.nB,{padding:0,children:[(0,s.jsx)(m.oW,{src:(0,u.ck)("79f17ef7df0c5ed50af97e6c5e98651536c94352"),alt:"Connected projects logo",className:p.s.maxWFull.$}),(0,s.jsxs)("div",{className:p.s.flex.flexColumn.pl16.pr16.pt16.pb0.maxWFull.$,children:[(0,s.jsx)("p",{className:p.s.$,children:(0,g.tx)("resource_connection.confirm_modal.in_a_connected_project_anyone_you_invite_can_edit",{connectingPlanName:(0,s.jsx)("span",{className:p.s.fontSemiBold.$,children:R.name})})}),(0,s.jsx)("div",{className:I.fF,children:(0,s.jsx)("div",{className:I.yF})}),(0,s.jsxs)("div",{className:I.Kg,children:[(0,s.jsxs)("div",{className:I.F5,children:[(0,s.jsx)("p",{className:I.QU,children:(0,g.t)("resource_connection.project_name")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.resourceName})]}),(0,s.jsxs)("div",{className:I.F5,children:[(0,s.jsx)("p",{className:I.QU,children:(0,g.t)("resource_connection.host")}),(0,s.jsx)("p",{children:C.name})]}),(0,s.jsxs)("div",{className:I.F5,children:[(0,s.jsx)("p",{className:I.QU,children:(0,g.t)("resource_connection.invited_by")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.hostInviter?.name})]}),(0,s.jsxs)("div",{className:I.F5,children:[(0,s.jsxs)("div",{className:I.j1,children:[(0,s.jsx)("p",{className:I.QU,children:(0,g.t)("resource_connection.available_projects")}),(0,s.jsx)("div",{...T?.tier?{"data-tooltip":(0,g.t)("resource_connection.available_projects_tooltip",{connectedProjectLimit:x.b[T.tier],planType:(0,x.A)(T.tier)??""}),"data-tooltip-type":S.Ib.TEXT,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0}:{},children:(0,s.jsx)(c.B,{style:{"--color-icon":"var(--color-icon-secondary)"}})})]}),(0,s.jsx)("p",{children:T?T?.unlimitedConnectionsEnabled||T?.testingOnlyUnlimitedConnectionsEnabled?(0,g.t)("resource_connection.unlimited"):(x.b[T.tier]-(T?.connectionCount??0)).toString():""})]})]}),(0,s.jsx)("div",{className:I.fF,children:(0,s.jsx)("div",{className:I.yF})})]}),(0,s.jsxs)("div",{className:I.xQ,children:[(0,s.jsx)("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",target:"_blank",className:p.s.mr8.$,children:(0,s.jsx)(d.$n,{variant:"link",onClick:e=>e.stopPropagation(),children:(0,g.tx)("resource_connection.request_modal.learn_more")})}),(0,s.jsxs)("div",{className:p.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(d.$n,{variant:"secondary",onClick:()=>{E.c.denyResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{w(!1),a(),t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.connection_request_denied")}))}).catch(e=>{w(!1),console.error("Error denying resource connection invite",e),t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},children:(0,g.tx)("resource_connection.confirm_modal.decline")}),A?(0,s.jsx)(d.$n,{disabled:!0,children:(0,s.jsx)(_.qc,{})}):(0,s.jsx)(d.$n,{onClick:k,children:(0,g.tx)("resource_connection.connect")})]})]})]})]})})}):(0,s.jsx)(s.Fragment,{})},"ResourceConnectConfirmModal")},696989:(e,t,a)=>{a.d(t,{r:()=>o,w:()=>d});var s=a(716976),n=a(903927),r=a(449572),i=a(147046),l=a(59849);function o(e){let t=(0,r.Rs)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,n.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team||a(i.sf({view:"recentsAndSharing"}))},[t,a])}function d(e){let t=(0,r.Rs)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,n.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team?.hasPermission||a(i.sf({view:"recentsAndSharing"}))},[t,a])}},552234:(e,t,a)=>{a.d(t,{n:()=>o});var s=a(716976),n=a(903927);if(443==a.j)var r=a(328881);var i=a(689842),l=a(366535);function o(e,t,a,o,d,c){let u=(0,n.wA)();return s.useCallback(()=>{void 0!==t&&(e===i.am.MEMBERS&&t.team.org_id?u(l.to({type:(0,r.T)(),data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):u(l.to({type:i.ut,data:{tab:e,teamSettingsProps:t,canAdmin:a,canEdit:o,canView:d,entryView:c}})))},[t,e,u,a,o,d,c])}},585345:(e,t,a)=>{a.d(t,{e9:()=>C,Mn:()=>M});var s=a(104076),n=a(716976),r=a(903927),i=a(962856),l=a(795033),o=a(949701),d=a(369850),c=a(449572),u=a(997477),m=a(1188),_=a(652539),p=a(192075),g=a(102497),h=a(220294),x=a(689902),f=a(507147),v=a(82621),b=a(111297),y=a(905368),j=a(77975),S=a(462952),E=a(944350),T=a(59849),I=a(439956),N=a(894210);let A="admin_notifications_count_badge--yellowIcon--7SC5D";var w=a(57540);function C(e){let{getConfig:t}=(0,u.I7)("exp_all_admin_request_dash"),a=(0,c.Rs)(T.HpJ,{orgId:e.planId},{enabled:e.planType===g.ps.ORG}),r=!!("loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&t().get("enabled",!1)&&!!e.isOrgAdmin,d=(0,g.ZY)({isIntendedAudience:!!(e.planType===g.ps.ORG&&"loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&!1===e.isOrgAdmin}),m=e.isOrgAdmin?[null,...e.managedBillingGroups??[]]:e.managedBillingGroups,_=(0,c.Rs)(T.KR2,{planType:e.planType,planId:e.planId,filterParams:r||d?JSON.stringify({billing_group_ids:m}):e.isOrgAdmin?JSON.stringify({billing_group_ids:[null]}):JSON.stringify({billing_group_ids:[]})}),x="loaded"===_.status&&_.data.adminDashboardRequestsTotalCount.status===o.tT.Loaded&&("loaded"===a.status||e.planType===g.ps.TEAM)?_.data.adminDashboardRequestsTotalCount.data?.rowCount:void 0,f=x??0,[v,b]=(0,l.fp)(h.Y),y=r?[e.planType,e.planId,!0].toString():[e.planType,e.planId].toString();n.useEffect(()=>{if(x){let e={...v};e[y]=f,b(e)}return()=>{let e={...v};delete e[y],b(e)}},[e.isDataLoaded,x,y]);let j=(v[y]??0)+(e.billingStatusCount||0)+(e.taxStatusCount||0);if(j<1)return null;let S="defaultFilled";return(e.billingStatusCount||e.taxStatusCount)&&(S="warningFilled"),void 0!==x&&j>0&&e.isDataLoaded?(0,s.jsx)(i.E,{"aria-label":(0,p.t)("sidebar.admin_notifications_count",{adminNotificationsCount:j}),variant:S,"data-testid":"admin-notifications-badge",children:j.toString()}):null}function R(e){let t=function(e,t){let a=(0,d.Xf)(e.id),s=(0,S.MX)(),r=n.useMemo(()=>(0,y.Pn)(a.data),[a.data]),i=a.data?.invoices,l=(0,y.Yo)(r?{planKey:{parentId:e.id,type:E.OL.ORG},nextRenewalDate:r}:null);return n.useMemo(()=>{let e=(0,x.ur)({invoices:i??[],licenseGroups:s,renewalConfirmed:l,userId:t.user_id,renewalAt:r});return e?.notification?1:0},[i,r,l,s,t.user_id])}(e.org,e.orgUser);return(0,s.jsx)(C,{isOrgAdmin:!1,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:e.groupsUserIsAdminOf?e.groupsUserIsAdminOf.map(e=>e.id):[],taxStatusCount:void 0,isDataLoaded:void 0!==e.invoices})}function k(e){let t=function(e){let t=(0,d.Xf)(e.id),a=(0,y.oU)(e),s=n.useMemo(()=>(0,y.Pn)(t.data),[t.data]),r=t.data?.invoices;return n.useMemo(()=>{if("loaded"!==t.status||!r||"loading"===a.status)return 0;let n=0;a.data?.show&&!a.data?.confirmed&&n++;let i=(0,x.uE)({invoices:r,org:e,renewalAt:s});return i?.notification&&n++,n},[r,e,t.status,a.data,a.status,s])}(e.org),a=(0,S.EQ)(e.licenseGroups,e.orgUser.user_id,!1).groupsUserIsAdminOf.map(e=>e.id);return void 0!==e.taxIdVerificationStatus&&void 0!==e.invoices?(0,s.jsx)(C,{isOrgAdmin:!0,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:a,taxStatusCount:0,isDataLoaded:void 0!==e.invoices}):null}var O=(e=>(e.WARNING="warning",e.NOTICE="notice",e))(O||{});function q(e,t,a,s,n,r){if(!s||!(0,I.i0)(s))return null;if(r){if(!n)return null;let{groupsUserIsAdminOf:e}=(0,S.EQ)(a,t.user_id,r),{groupsToReview:i}=(0,S.Cz)(e,s);if(0===i.length)return null}return{tooltipData:"",iconStyle:(0,I.m3)(s)?"admin_notifications_count_badge--redIcon--QvRuX":A,iconType:(0,I.m3)(s)?"warning":"notice"}}function L(e){return e!==E.kI.UNVERIFIED?null:{tooltipData:(0,p.t)("billing_status.tax_id.invalid"),iconStyle:A,iconType:"notice"}}function M(e){return(0,s.jsx)(m.tH,{boundaryKey:"OrgAdminBillingStatusBadge",fallback:(0,s.jsx)("div",{}),children:(0,s.jsx)(D,{...e})})}function P(e){let t=(0,r.wA)(),a=(0,S.MX)(),i=e.invoices&&(0,I.hX)(e.invoices),l=e.org.bigma_enabled&&e.orgUser.license_admin&&e.orgUser.permission!==E._D.ADMIN,o=(0,c.Rs)(T.Wt6,{orgId:e.org.id}),d="loaded"===o.status?o.data.org?.taxIdVerificationStatus:null;n.useEffect(()=>{i&&l&&t(v.Jt({forceRefetch:!1}))},[t,e.org.id,i,l]);let u=(()=>{switch(e.highlightType){case I.EZ.BILLING_STATUS:return q(e.org,e.orgUser,a,e.invoices,i,l);case I.EZ.TAX_ID_STATUS:return L(d);default:return q(e.org,e.orgUser,a,e.invoices,i,l)||L(d)}})();if(!u)return null;let m=`${u.iconStyle} ${e.inlineIcon?"admin_notifications_count_badge--inline--DETI2":""} ${e.alignTop?"admin_notifications_count_badge--multiLineIcon--6PT9X":""}`,p={};e.showTooltip&&(p["data-tooltip-type"]=N.Ib.TEXT,p["data-tooltip"]=u.tooltipData,p["data-tooltip-show-below"]=!0,p["data-tooltip-timeout-delay"]=50,p["data-tooltip-max-width"]=117);let g=(0,s.jsx)(_.B,{className:`admin_notifications_count_badge--warningSvg--sbgzs ${m}`,svg:w.A,useOriginalSrcFills_DEPRECATED:!0,...p}),h=e.showTooltip?(0,s.jsx)(f.Y,{className:m,dataTooltipType:p["data-tooltip-type"],dataTooltip:p["data-tooltip"],dataTooltipShowBelow:p["data-tooltip-show-below"],dataTooltipTimeout:p["data-tooltip-timeout-delay"],dataTooltipMaxWidth:p["data-tooltip-max-width"]}):(0,s.jsx)(f.Y,{className:m}),x="warning"===u.iconType?g:h;return(0,b.T8)(x,"Org Admin Billing Status Badge",{orgId:e.org.id,isCurrentUserLicenseAndNotOrgAdmin:l})}function D(e){let t=(0,r.wA)(),a=e.orgUser.permission===E._D.ADMIN,i=(0,S.RG)(),l=(0,S.MX)(),{groupsUserIsAdminOf:o}=(0,S.EQ)(l,e.orgUser.user_id,!a),u=(0,d.Xf)(e.org.id),m="loaded"===u.status?u.data?.invoices??[]:void 0;n.useEffect(()=>{t(v.Jt({forceRefetch:!1}))},[t,e.org.id]);let _=o[0]?.id,p=e.org.bigma_enabled&&i&&!!_,h=(0,j.NJ)(e.org.id).data??[],x=e.org.bigma_enabled&&h.length>0,f=a||p||x,b=(0,g.ZY)({isIntendedAudience:e.org.bigma_enabled&&!a}),y=(0,c.Rs)(T.Wt6,{orgId:e.org.id},{enabled:a}),I="loaded"===y.status?y.data.org?.taxIdVerificationStatus:void 0;return f?a?(0,s.jsx)(k,{planType:g.ps.ORG,planId:e.org.id,orgUser:e.orgUser,licenseGroups:l,taxIdVerificationStatus:I,invoices:m,isSelected:e.isSelected,org:e.org}):p?b?(0,s.jsx)(R,{invoices:m,groupsUserIsAdminOf:o,isSelected:e.isSelected,planId:e.org.id,planType:g.ps.ORG,orgUser:e.orgUser,org:e.org}):(0,s.jsx)(P,{invoices:m,showTooltip:!1,org:e.org,orgUser:e.orgUser}):null:null}},689842:(e,t,a)=>{a.d(t,{ut:()=>tN,am:()=>ty});var s=a(104076),n=a(716976),r=a(903927),i=a(999083),l=a(821655),o=a(369729),d=a(263188);a(120440);var c=a(681398),u=a(769109),m=a(958273),_=a(1188),p=a(679359),g=a(192075),h=a(142914),x=a(751084),f=a(449572),v=a(944350),b=a(59849),y=a(613936),j=a(951002),S=a(511570),E=a.n(S),T=a(665261),I=a(652539),N=a(171660),A=a(147046),w=a(366535),C=a(494320),R=a(506192),k=a(592726),O=a(643898),q=a(411224),L=a(894413),M=a(894210),P=a(404884),D=a(826160),F=a(917332),B=a(560201),U=a(386719);let G=(0,B.ex)("restricted_edu_tooltip",function(e){let{text:t,title:a}=e;return(0,s.jsxs)("span",{className:U.Qq,children:[(0,s.jsx)("span",{style:{fontWeight:600},children:a})," ",t]})},e=>({title:e.getAttribute("data-tooltip-title"),text:e.getAttribute("data-tooltip-text")})),W="members_list_row--column--lYSr0",V="members_list_row--permissionsColumnModal--vpl7C members_list_row--column--lYSr0",$="members_list_row--roleRowWithRequestsModal--XkEe8 members_list_row--_membersListRowGridWithRequestsBase--lj--X",H="members_list_row--acceptDenyText--FS9XK text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd",z="members_list_row--fixedContextMenu--7vBtK",Y="members_list_row--select--Dxew7 members_list_row--column--lYSr0",Q="members_list_row--dropdownIcon--mJelI",K="members_list_row--avatarWithHandle--yirlt";var X=a(977613),J=a(154709),Z=a(443105);let ee="team-member-list-row-dropdown";function et(e){let t=(0,r.wA)(),a=(0,k.Pc)(),i=(0,C.P)(),l=(0,R.Um)(),o=(0,n.useMemo)(()=>{let t=e.team?.team;return t?{teamName:t.name,isCurrentUserTeamOwner:t.isOwner,canMakeTeamMemberAdmin:t.canAdmin,canEditTeamMemberRole:(0,O.OL)(e.teamRole,!!t.canAdmin,!!t.canEdit)}:null},[e.team,e.teamRole]),d=n.useRef(null),c=()=>l&&l.type===ee&&l.data.roleId===e.teamRole.id,u=a=>{if(c())t(A.oB());else{if(!d.current)return;let s=d.current?.getBoundingClientRect(),n=s.bottom+a>window.innerHeight,r=window.innerHeight-s.bottom;t(A.j7({type:ee,data:{roleId:e.teamRole.id,position:{top:n?"auto":s.top,bottom:n?r:"auto",left:s.left-28,right:"auto"}}}))}},m=()=>{t((0,q.$S)({role:e.teamRole}))},_=a=>{(0,j.KF)(e.teamRole.resource_type===v.vt.TEAM,"MembersListRow is only for team roles");let s=()=>t((0,L.yN)({role:e.teamRole,level:a}));a===y.e6.OWNER?t((0,w.to)({type:F.b,data:{resourceType:e.teamRole.resource_type,resourceName:o?.teamName||"",newOwnerName:e.teamRole.user.handle,onConfirmTransfer:s}})):s()},p=(a,s)=>{e.isModal&&t(w.Ce()),t(A.sf({view:"user",userId:s.id,userViewTab:P.o.INTERNAL_PROFILE}))},h=(t,n)=>{let r;return e.teamRole.pending||(r=p),(0,s.jsx)(D.az,{className:e.isModal?"members_list_row--avatarWithHandleModal--EOxtN admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa":K,defaultFallbackAvatarSvg:e.teamRole.pending?X.A:void 0,defaultText:"--",enabled:e.teamRole.pending,entity:t,includeUserEmailAddress:n,initializableEntityProperties:["handle","name","email"],onClick:r,overrideHandle:n?t.handle||t.name||t.email:void 0,showIsMe:e.teamRole.user_id===a.id,size:24})},x=e.teamRole.pending?((e,t)=>{let a=i?.usersByEmail[e.user.email]||{};return{...a,...e.user,id:e.user.id,email:a?.email??t??e.user.email}})(e.teamRole,e.emailLg):e.teamRole.user;return(0,s.jsxs)("div",{className:E()({"members_list_row--roleRowWithRequests--Dmagz members_list_row--_membersListRowGridWithRequests--CLLCo members_list_row--_membersListRowGridWithRequestsBase--lj--X":!e.isModal,[$]:e.isModal}),"data-testid":"members-list-row",children:[e.isModal&&(0,s.jsx)("div",{className:"members_list_row--nameColumnModal--rT7n9 members_list_row--column--lYSr0",children:h(x,!0)}),!e.isModal&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"members_list_row--nameColumn--mEVQ- members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",children:h(x,!1)}),(0,s.jsx)("div",{className:"members_list_row--nameAndEmailColumn--8GdN6 members_list_row--column--lYSr0 members_list_row--_showWhenNarrow--FR1xk",children:h(x,!0)}),(0,s.jsx)("div",{className:"members_list_row--emailColumn--v-F6U members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",children:(0,s.jsx)(N.E,{truncate:!0,children:x.email})}),(0,s.jsx)("div",{})]}),(0,s.jsxs)("div",{className:e.isModal?V:W,children:[(()=>{if(e.isEduRestrictedLg)return(0,s.jsx)(I.B,{className:"members_list_row--warningIcon--G9r-7","data-tooltip":G,"data-tooltip-max-width":250,"data-tooltip-offset-y":10,"data-tooltip-text":(0,g.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply"),"data-tooltip-timeout-delay":50,"data-tooltip-title":(0,g.t)("team_view.upgrade.can_only_view",{teamMember:"handle"in e.teamRole.user?e.teamRole.user.handle:e.teamRole.user.email??""}),"data-tooltip-type":M.Ib.SPECIAL,dataTestId:"restricted-edu-user-tooltip",svg:Z.A})})(),(()=>{let t;let n=[],r=!1;if(e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner){if(!o?.canEditTeamMemberRole)return(0,s.jsx)("span",{className:"members_list_row--nonDropdownPadding--a8tyP",children:(0,O.QN)(e.teamRole.level)});o?.isCurrentUserTeamOwner&&!e.teamRole.pending&&n.push(y.e6.OWNER),o?.canMakeTeamMemberAdmin&&n.push(y.e6.ADMIN),n.push(y.e6.EDITOR),n.push(y.e6.VIEWER),r=e.teamRole.pending}else n.push(e.teamRole.level);let i=-24*Math.max(0,n.indexOf(e.teamRole.level));return c()&&l.data&&l.data.position&&(t={...l.data.position},t.top+=i),(0,s.jsxs)("div",{ref:d,children:[(0,s.jsxs)("div",{className:Y,onClick:()=>u(120+i),children:[(0,s.jsx)("span",{children:(0,O.QN)(e.teamRole.level)}),(0,s.jsx)(I.B,{svg:J.A,className:Q})]}),c()&&(0,s.jsxs)(T.ms,{className:z,style:t,children:[n.map(t=>(0,s.jsx)(T.MM,{onClick:e.teamRole.level!==t?()=>_(t):void 0,checked:e.teamRole.level===t,children:(0,O.QN)(t)},t)),(0,s.jsx)(T.wv,{}),r&&(0,s.jsx)(T.c$,{onClick:m,children:(0,g.tx)("file_browser.team.resend_invite")}),(0,s.jsx)(T.c$,{onClick:()=>_(y.e6.NONE),children:e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner?(0,g.tx)("file_browser.team.remove_confirm"):(0,g.tx)("file_browser.team.leave_confirm")})]})]})})()]})]})}var ea=a(883765),es=a(569711);let en="team-pending-member-role-request-dropdown",er=()=>{let e=(0,r.d4)(e=>e.dropdownShown);return e&&e?.type===en?e:null};function ei(e){let t=(0,r.wA)(),a=er(),i=n.useRef(null),[l,o]=n.useState(e.request.level),d=(0,r.d4)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),c=n.useMemo(()=>d?[y.e6.EDITOR]:[y.e6.VIEWER,y.e6.EDITOR],[d]),u={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},m=s=>{if(a)t(A.oB());else{let a=i&&i.current&&i.current.getBoundingClientRect(),n=a?.bottom??0+s>window.innerHeight,r=window.innerHeight-(a?.bottom??0);t(A.j7({type:en,data:{requestId:e.request.id,position:{top:n?"auto":a?.top,bottom:n?r:"auto",left:a?.left??-28,right:"auto"}}}))}},_=e=>{o(e),t(A.oB())},p=n.useMemo(()=>-24*Math.max(0,c.indexOf(l)),[l,c]),h=n.useMemo(()=>{let e;return a&&a.data&&a.data.position&&(e={...a.data.position},e.top+=p),e},[a,p]),x={request_id:e.request.id,team_id:e.request.teamId,type:l,response:"accept",source:"TeamPendingMembersRow"};return(0,s.jsxs)("div",{className:$,children:[(0,s.jsx)("div",{className:W,children:(0,s.jsx)(D.az,{entity:u,initializableEntityProperties:["handle","name","email"],size:24,className:K,onClick:(e,a)=>{t(A.sf({view:"user",userId:a.id,userViewTab:P.o.INTERNAL_PROFILE}))},overrideHandle:u.handle||u.name||u.email,defaultText:"--"})}),(0,s.jsxs)("div",{className:E()(W,"members_list_row--flexRight--iwR1Y"),children:[(0,s.jsx)("span",{onClick:()=>{x.response="deny",(0,ea.sx)("permission_request_responded",x),t(es.UF({requestId:e.request.id}))},className:H,role:"button",tabIndex:-1,children:(0,g.tx)("file_browser.team.dismiss")}),(0,s.jsx)("span",{onClick:()=>{(0,ea.sx)("permission_request_responded",x),t(es.Jd({requestId:e.request.id,level:l,teamId:e.request.teamId,email:e.request.user.email??"",user:u}))},className:H,role:"button",tabIndex:-1,children:(0,g.tx)("file_browser.team.approve")})]}),(0,s.jsx)("div",{className:V,children:(0,s.jsxs)("div",{ref:i,children:[(0,s.jsxs)("div",{className:Y,role:"button",tabIndex:0,onClick:()=>{c.length>1&&m(120+p)},children:[(0,s.jsx)("span",{children:(0,O.QN)(l)}),c.length>1&&(0,s.jsx)(I.B,{svg:J.A,className:Q})]}),a&&a.data.requestId===e.request.id&&c.length>1&&(0,s.jsx)(T.ms,{className:z,style:h,children:c.map(e=>(0,s.jsx)(T.MM,{onClick:l!==e?()=>{_(e)}:void 0,checked:l===e,children:(0,O.QN)(e)},e))})]})})]})}function el({teamRoleRequests:e}){let t=e?.team?.pendingTeamRoleRequests??[];return 0===t.length?null:(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(ei,{request:e},e.id)),(0,s.jsx)("div",{className:"members_list_row--pendingRequestDividerModal--tjuPV members_list_row--pendingRequestDivider--djtil"})]})}function eo(e){let t=(0,f.Bh)((0,b.N66)({teamId:e.teamId})),a=(0,f.Bh)((0,b.yQw)({teamId:e.teamId})),i=(0,f.Bh)((0,b.Cb9)({teamId:e.teamId})),[l,o,d]=(0,x.o)([t,a,i]),c=n.useMemo(()=>l?.team?.roles.reduce((e,t)=>{let a=!!l?.team?.studentTeamAt;return e[ed({id:t.id,user_id:t.userId,pending:t.pending})]=function(e,t){let a={id:t.id,created_at:t.createdAt.toISOString(),updated_at:t.updatedAt.toISOString(),level:t.level,resource_type:v.vt.TEAM,resource_id_or_key:t.resourceId,hasValidEduGracePeriod:!!t.eduGracePeriod?.isValid,isStudent:!!t.user?.studentValidatedAt,isStudentTeam:e};return t.pending?{...a,user_id:null,pending:!0,pendingEmail:t.pendingEmail,user:{id:t.user?.id??"",email:t.pendingEmail??void 0}}:{...a,user_id:t.userId,pending:!1,pendingEmail:null,user:{id:t.user?.id??"",email:t.user?.email??"",img_url:t.user?.imgUrl??"",handle:t.user?.handle??""}}}(a,t),e},{})??{},[l]),u=(0,r.d4)(t=>t.teamMembersByTeamId[e.teamId]||{}),m=e=>{let t=c[ed(e)];return!!t&&!!t.isStudentTeam&&t.level!==y.e6.VIEWER&&!e.pending&&!t.level&&!(t.isStudent||t.hasValidEduGracePeriod)},_=e=>{let t=c[ed(e)];return t?.user?.email??null},p=(()=>{let e={};return Object.values(u).forEach(t=>{t.team_role&&(e[t.team_role.id]=t)}),e})(),h=(()=>{let e=[],t={},a=new Set;Object.values(c).forEach(s=>{if(s.pending){e.push(s);return}t[s.user.id]=s,a.add(s.user?.email)});let s=e.filter(e=>!a.has(e.user?.email));return Object.values(t).concat(...s).sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending?-1:e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1)})(),j=!h.some(e=>e.level===y.e6.OWNER||e.level===y.e6.ADMIN);return 0===h.length?(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team.no_members")}):(0,s.jsxs)("div",{children:[(0,s.jsx)(el,{teamRoleRequests:d}),h.map(t=>(0,s.jsx)("div",{className:"members_list--memberRowForModal--g9CYe",children:(0,s.jsx)(et,{teamId:e.teamId,teamMember:p[t.id],teamRole:t,teamIsOrphaned:j,isModal:!0,team:o,isEduRestrictedLg:m(t),emailLg:_(t)},`team-role-${t.id}`)},t.id))]})}function ed(e){return e.pending?`pending-${e.id}`:e.user_id??""}var ec=a(381640),eu=a(527173),em=a(111297),e_=a(332795),ep=a(498399),eg=a(295253),eh=a(876793),ex=a(126538),ef=a(243442),ev=a(959834),eb=a(302955),ey=a(354174);function ej(e){return(0,s.jsxs)("div",{className:"mobile_settings_tool_bar--fixedToolbar--DJIrS",style:{width:e.width},children:[(0,s.jsx)("div",{className:"mobile_settings_tool_bar--tabContainer--yD8Zf",children:e.tabs}),(0,s.jsx)(u.s_,{dispatch:e.dispatch,customStyle:{position:"static",marginTop:"8px",marginRight:"15px",marginLeft:"auto"}})]})}var eS=a(681249),eE=a(596149),eT=a(236631),eI=a(853039),eN=a(104836);function eA(e){let t=(0,r.d4)(e=>e.roles||{});return(0,eI.n0)(e.team)&&e.canAdmin?(0,s.jsx)("div",{className:eT.s.font12.lh16.pt8.pr32.pb16.pl4.colorText.$,children:(0,g.tx)("file_browser.team_settings_modal.paid_status_explanation_no_link")}):(0,s.jsx)("div",{className:"team_settings_modal--membersHeader--Ac-UZ",children:(0,s.jsxs)(N.E,{color:"secondary",fontSize:12,children:[e.team.name,(0,g.tx)("file_browser.team_settings_modal.members_tab_header",{numMembers:(0,eN.pG)(t,e.team.id).length})]})})}var ew=a(190333),eC=a(812714),eR=a(949701),ek=a(833805),eO=a(856909),eq=a(428147),eL=a(197600),eM=a(505189),eP=a(880128),eD=a(834130),eF=a(657853),eB=a(483200),eU=a(244205),eG=a(373547),eW=a(936817),eV=a(259936),e$=a(710211),eH=a(562311),ez=a(904017),eY=a(741348),eQ=a(984887),eK=a(288054),eX=a(699914),eJ=a(945548),eZ=a(911107),e0=a(919024),e1=a(470949),e9=a(59670),e4=a(965602),e2=a(763934),e6=a(330086),e5=a(436194),e3=a(555013),e7=a(256384),e8=a(911990),te=a(199432),tt=a(65369),ta=a(507665),ts=a(432786);let tn={spinner:"ai-settings-spinner",dataSharingEnabledSwitch:"ai-settings-ai-enabled-switch",aiEnabledSwitch:"ai-settings-data-sharing-enabled-switch",aiEnabledButton:"ai-settings-ai-enabled-button"},tr=(0,ev.Ju)(function(){let e=(0,r.wA)(),t=(0,eN.cD)(),a=(0,f.Rs)((0,b.ZY7)({teamId:t})),n=a.data?.team,i=!n,l=!!n?.studentTeamAt&&!n?.isAiDataSharingEnabled,o=!!n?.aiFeaturesDisabledAt,d=(0,eC.kc)().ai_ga,c=async a=>{try{await ta.$.updateAiFeaturesDisabled({teamId:t,aiFeaturesDisabled:!a});let s=a?(0,g.t)("admin_settings.ai.enable_success"):(0,g.t)("admin_settings.ai.disable_success");e(e7.s.flash(s))}catch{e(e7.s.error((0,g.t)("file_browser.file_browser_actions.team_update_error")))}},u=async a=>{try{await ta.$.updateAiDataSharing({teamId:t,enabled:a}),(0,ea.sx)("ai_data_sharing_toggled",{team_id:t,enabled:a}),e(e7.s.flash((0,g.t)("admin_settings.ai.data_sharing.update_success")))}catch(t){e(e7.s.error((0,g.t)("admin_settings.ai.data_sharing.update_error")))}},m=null;return d?o&&(m=(0,s.jsx)(e8.Y,{children:(0,s.jsx)(te.p,{onEnable:()=>c(!0),planId:t,planType:v.OL.TEAM,testId:tn.aiEnabledButton})})):m=(0,s.jsxs)(e8.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,s.jsxs)(e8.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)(N.E,{fontWeight:"medium",children:(0,g.tx)("admin_settings.ai.features_toggle.label")}),(0,s.jsx)(N.E,{color:"secondary",children:(0,g.tx)("admin_settings.ai.features_toggle.description.team",{learnMoreLink:(0,s.jsx)(e3.CY,{href:tt.d.aiFeatures,target:"_blank",trusted:!0,children:(0,s.jsx)(N.E,{children:(0,g.tx)("general.learn_more")})})})})]}),(0,s.jsx)(e5.d,{label:(0,s.jsx)(s.Fragment,{}),checked:!n?.aiFeaturesDisabledAt,onChange:c,htmlAttributes:{"data-testid":tn.aiEnabledSwitch}})]}),(0,s.jsx)(ts.OJ,{title:(0,s.jsxs)(e8.Y,{width:"hug-contents",padding:{left:8},children:[(0,s.jsx)(N.E,{fontWeight:"medium",children:(0,g.tx)("admin_settings.ai.section_title")}),!d&&(0,s.jsx)(eO.Ex,{color:eO.zE.BRAND,text:(0,g.t)("general.beta")})]}),onClose:()=>{e(w.Lo())},fixedTop:!0,children:i?(0,s.jsx)(e8.Y,{padding:64,children:(0,s.jsx)(p.qc,{testId:tn.spinner})}):(0,s.jsxs)(e8.Y,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16,children:[m,(0,s.jsxs)(e8.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,s.jsxs)(e8.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)(N.E,{fontWeight:"medium",children:(0,g.tx)("admin_settings.ai.data_sharing.label")}),(0,s.jsx)(N.E,{color:"secondary",children:(0,g.tx)("admin_settings.ai.data_sharing.description.team",{learnMoreLink:(0,s.jsx)(e3.CY,{href:tt.d.aiDataSharing,target:"_blank",trusted:!0,children:(0,s.jsx)(N.E,{children:(0,g.tx)("general.learn_more")})})})})]}),(0,s.jsx)(e5.d,{label:(0,s.jsx)(s.Fragment,{}),checked:n.isAiDataSharingEnabled,onChange:u,disabled:l,htmlAttributes:{"data-testid":tn.dataSharingEnabledSwitch,"data-tooltip":l?(0,g.t)("admin_settings.ai.data_sharing.disabled_for_student_teams"):void 0,"data-tooltip-type":M.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-tip-align-right":!0}})]})]})})},"TEAM_AI_SETTINGS_MODAL"),ti="settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",tl="settings_view--redLink--LDeOm blue_link--blueLink--9rlnd",to="settings_view--section--jKGaH",td="settings_view--sectionHeader--BTMnl text--fontPos13--xW8hS text--_fontBase--QdLsd",tc="settings_view--upgradeBanner--RCQfq",tu="settings_view--upgrageBannerIcon--yMYzd",tm="settings_view--upgradeBannerBody--n82sx",t_="settings_view--blueLinkForBanner--b0V8l settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",tp="settings_view--accessIcon--7RIy3";var tg=a(663128),th=a(401431),tx=a(442539);function tf(e){let t=(0,r.wA)(),a=(0,eG.DP)(),i=e.team,l=(0,r.d4)(e=>(0,eH.getPermissionsState)(e)),o=i.org_id?l.orgById[i.org_id]:null,d=(0,n.useMemo)(()=>({teamId:i.id,orgId:i.org_id,canAdmin:(0,eH.canAdminTeam)(i.id,l),description:i.description||"",communityProfileHandle:i.community_profile_handle,communityProfileId:i.community_profile_id}),[i,l]),[c]=(0,e$.IT)((0,b.vD4)({teamId:e.team.id})),[u]=(0,ek.mI)(c),m=(0,n.useMemo)(()=>{if("loaded"!==u.status||!u.data.team)return null;let t=u.data.team;return{teamId:e.teamId,orgId:t?.orgId,canAdmin:t?.canAdmin,description:t?.description||"",communityProfileId:t?.communityProfile?.id||null,communityProfileHandle:t?.communityProfile?.profileHandle??null}},[u,e.teamId]),_=(0,eV.u8)({oldValue:d,newValue:m,label:eV.A5.TeamSettingsView.teamInfo,enableFullRead:(0,eW.DQ)(eW.Pw.GROUP_7),contextArgs:{teamId:e.teamId}}),p=(0,n.useMemo)(()=>{if("loaded"!==u.status||!u.data.team||!u.data.team.currentPlanUser)return null;let e=u.data.team.currentPlanUser,t=u.data.team.plan.tier;return{isProOrStudentTeam:t===v.Ag.PRO||t===v.Ag.STUDENT,isStudentTeam:t===v.Ag.STUDENT,canAdminOrg:!!e&&(0,ez.A8)(e,v.Xn.ADMIN),isOrgGuest:e?.key.type===v.h4.ORG_USER&&e?.permission===v.Xn.GUEST}},[u]),h=!p?.isOrgGuest,x=p?.canAdminOrg||_?.canAdmin&&!_?.orgId,y=!!(0,r.d4)(e=>(0,eY.p)(e)),j=(0,e2.X8)(!!u.data?.team?.canEdit,(0,ez.zQ)(u.data?.team?.plan??null)),S=e.billing.summary.annual_subscription,E=e.billing.summary.monthly_subscription,T=!!S&&!S.canceled_at,C=!!E&&!E.canceled_at,R=!_?.orgId&&!p?.isProOrStudentTeam&&_?.canAdmin,k=n.useMemo(()=>{if("loaded"===u.status&&u.data)return u.data.team?.workspace},[u]),O=u.data?.team&&eR.oA(u.data.team)?.hasActiveProjectConnection,q=(0,f.Rs)(b.WEk,{teamId:i.id}),L=(0,eC.kc)().ai_ga,P=q.data?.team?.pendingAssetTransferRequest,F=P&&{id:P.id,source_user_email:P.sourceUser?.email,destination_user_email:P.destinationUser?.email,is_transfer_copy:P.isTransferCopy}||void 0;if("loaded"!==u.status)return null;let B=()=>{if(!p?.isProOrStudentTeam){t((0,w.to)({type:eq.V,data:{teamId:_?.teamId,upsellSource:eg.b.TEAM_SETTINGS_MODAL,openCheckoutInNewTab:!0,onDone:()=>{t(w.ES({type:"TEAM_SETTINGS_MODAL"}))}}}));return}t(eB.Bq({openInNewTab:!0,upsellSource:eg.b.TEAM_SETTINGS_VIEW,entryPoint:eQ.TN.PRO_TEAM_SETTINGS_MODAL}))},U=e=>{t((0,w.to)({type:e1.H,data:{team:i,subscriptionStatus:e}}))},G=e=>e.sharing_audience_control?e.sharing_audience_control:e.org_access?e.org_access===v.bU.PUBLIC&&"edit"===e.default_permission?v.PQ.ORG_EDIT:e.org_access===v.bU.PUBLIC?v.PQ.ORG_VIEW:void 0:v.PQ.INVITE_ONLY;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:to,children:[(0,s.jsx)("div",{className:td,children:(0,g.tx)("file_browser.team_settings.team_name")}),(0,s.jsx)("div",{children:i.name}),_?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{t((0,w.to)({type:(0,eF.h)(),data:{team:i}}))},children:(0,g.tx)("file_browser.team_settings.change_name")})})]}),(_?.canAdmin||_?.description)&&(0,s.jsxs)("div",{className:to,children:[(0,s.jsx)("div",{className:td,children:(0,g.tx)("file_browser.about")}),(0,s.jsx)("div",{children:_?.description}),_?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{t((0,w.to)({type:(0,eP.r)(),data:{team:i}}))},children:_?.description?(0,g.tx)("file_browser.team.change_description"):(0,g.tx)("file_browser.team.add_a_description")})})]})]}),_?.canAdmin&&i.org_access!==v.bU.SECRET&&(0,s.jsxs)("div",{className:to,children:[(0,s.jsx)("div",{className:td,children:(0,g.tx)("file_browser.team_settings_modal.community_profile")}),(0,s.jsx)("div",{children:_?.communityProfileHandle?(0,g.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:_?.communityProfileHandle}):""}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{t((0,w.to)({type:eZ.S3,data:{teamId:_?.teamId,profileId:_?.communityProfileId||"",profileHandle:_?.communityProfileHandle||""}}))},children:_?.communityProfileHandle?(0,g.t)("file_browser.team_settings.change_profile_handle"):(0,g.t)("file_browser.team_settings.set_profile_handle")})}),_?.communityProfileHandle&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{_?.communityProfileId&&_?.communityProfileHandle&&t((0,w.to)({type:e0.M,data:{dispatch:t,profileId:_?.communityProfileId,handle:_?.communityProfileHandle}}))},children:(0,g.tx)("file_browser.team_settings.delete_profile")})}),_?.communityProfileHandle&&_?.orgId&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{_?.communityProfileId&&t((0,w.to)({type:eJ.J,data:{profileId:_?.communityProfileId||"",profileHandle:_?.communityProfileHandle||"",emptyStateText:(0,g.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:_?.communityProfileHandle||""})}}))},children:(0,g.tx)("file_browser.team_settings.manage_restricted_commenters")})})]}),(0,s.jsxs)("div",{className:to,children:[(0,s.jsx)("div",{className:td,children:_?.orgId?(0,g.tx)("file_browser.team_settings.shared"):(0,g.tx)("file_browser.team_settings_modal.libraries")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{t((0,w.to)({type:eX.T,data:{teamId:_?.teamId,entrypoint:eK.r6.TEAMS_SETTINGS_VIEW_TEAM_LIBRARIES}}))},children:(0,g.tx)("file_browser.team_settings.view_team_libraries")})}),y&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{t((0,w.to)({type:eX.lN,data:{entrypoint:eK.r6.TEAMS_SETTINGS_VIEW_TEAM_FONTS}}))},children:(0,g.tx)("file_browser.team_settings.view_team_fonts")})}),j&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{t((0,w.to)({type:e6.j,data:{showMakeDefaultButton:!0,entryPoint:"team settings",theme:"dark"===a?"dark":"light"}}))},children:(0,g.tx)("file_browser.team_settings.view_team_figjam_palettes")})})]}),_?.orgId!=null&&i.org_access&&(0,s.jsxs)("div",{className:to,children:[(0,s.jsx)("div",{className:td,children:(0,g.tx)("file_browser.settings.access")}),(0,s.jsxs)("div",{children:[(()=>{let e=G(i),t=k||null,a=(0,s.jsx)(I.B,{className:tp,svg:th.A});return(e===v.PQ.ORG_EDIT||e===v.PQ.ORG_VIEW)&&o?a=(0,s.jsx)("div",{className:tp,children:(0,s.jsx)(I.B,{svg:tx.A})}):(e===v.PQ.WORKSPACE_EDIT||e===v.PQ.WORKSPACE_VIEW)&&(a=(0,s.jsx)("div",{className:tp,children:t&&(0,s.jsx)(D.z6,{entity:t,size:20})})),(0,s.jsxs)("div",{className:"settings_view--accessDescription--qxQcN",children:[a,(0,s.jsx)("div",{children:(0,e9.wO)(v.vt.TEAM,o,t,e)})]})})(),_?.canAdmin&&o&&(0,s.jsx)("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--HOsAC modal--blueLink--9GcJu blue_link--blueLink--9rlnd",onClick:()=>{t((0,w.to)({type:e4.dW,data:{team:i,goBack:()=>{t((0,w.Lo)())}}}))},children:(0,g.tx)("team_view.team_permissions_modal.change")})]}),!_?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)(N.E,{color:"secondary",children:(0,g.tx)("file_browser.team_settings.team_admins_and_owners_can_change")})})]}),R&&(0,s.jsxs)("div",{className:to,children:[(0,s.jsxs)("div",{className:td,children:[(0,g.tx)("admin_settings.ai.section_title"),!L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:eT.s.inlineFlex.ml8.$,children:(0,s.jsx)(eO.Ex,{color:eO.zE.BRAND,text:(0,g.t)("general.beta")})}),(0,s.jsx)(ew.B,{"data-tooltip-type":M.Ib.TEXT,"data-tooltip":(0,g.t)("admin_settings.ai.section_title.free_in_beta"),"data-tooltip-timeout-delay":50})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{t((0,w.to)({type:tr}))},children:(0,g.tx)("admin_settings.ai.manage_settings_link")})})]}),p?.isProOrStudentTeam&&!p?.isStudentTeam&&_?.canAdmin&&(0,s.jsxs)("div",{className:to,children:[(0,s.jsx)("div",{className:td,children:(0,g.tx)("settings_table.plan_and_billing")}),(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team_settings_modal.admin_console_billing_nudge")}),(0,s.jsx)("button",{className:ti,onClick:()=>{t(A.sf({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:ef.Iv.BILLING})),t((0,w.Lo)())},children:(0,g.tx)("file_browser.team_settings_modal.admin_console_billing_button")})]}),h&&(0,s.jsxs)("div",{className:to,children:[(0,s.jsx)("div",{className:td,children:(0,g.tx)("file_browser.team_settings.transfer")}),(0,s.jsxs)("div",{children:[F&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:F.source_user_email,destinationUserEmail:F.destination_user_email})}),x&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{F&&t(w.to({type:(0,eD.d)(),data:{pending:F,canRevokeProjectTransfer:!0,isTransferTeam:!0}}))},children:(0,g.tx)("file_browser.folder_settings.revoke")})})]}),!F&&x&&(O?(0,g.tx)("file_browser.team_settings.transfer_teams_without_active_connected_projects"):(0,g.tx)("file_browser.team_settings.transfer_team_link_to_an_external_organization",{transferTeamLink:(0,s.jsx)("button",{className:ti,onClick:()=>{t((0,w.to)({type:(0,eL.Lg)(),data:{teamId:i.id,entryPoint:eL.Lq.ORG_TEAM_SETTINGS}}))},children:(0,g.tx)("file_browser.team_settings.transfer_team")})})),!F&&!x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",{orgName:o?.name})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{t((0,w.to)({type:(0,eM.Y)(),data:{planId:i.org_id||i.id,planType:i.org_id?v.OL.ORG:v.OL.TEAM,planName:i.name,entryPoint:eL.Lq.ORG_TEAM_SETTINGS,resourceType:"team",resourceIdOrKey:i.id}}))},children:(0,g.tx)("file_browser.team_settings.see_who_can_help_with_transfers")})})]})]})]}),!p?.isProOrStudentTeam&&!_?.orgId&&_?.canAdmin&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:to,children:[(0,s.jsx)("div",{className:td,children:(0,g.tx)("team_view.settings_table.delete_team")}),(0,s.jsx)("div",{children:(0,g.tx)("team_view.settings_table.delete_team_description")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>U(T||C),children:(0,g.tx)("file_browser.team_settings.delete_team")})})]}),(0,s.jsxs)("div",{className:tc,children:[(0,s.jsx)(I.B,{className:tu,svg:tg.A}),(0,s.jsxs)("div",{className:tm,children:[(0,s.jsx)("strong",{children:(0,g.tx)("upgrade.ready_to_go_beyond_free_plan")}),(0,s.jsxs)("div",{children:[(0,g.tx)("upgrade.more_features"),(0,s.jsx)(em.$z,{className:t_,onClick:B,trackingProperties:{trackingDescriptor:eU.c.UPGRADE,upsellSource:eg.b.TEAM_SETTINGS_MODAL},children:(0,g.tx)("upgrade.view_plans")})]})]})]})]}),p?.isProOrStudentTeam&&_?.canAdmin&&(0,s.jsxs)("div",{className:tc,children:[(0,s.jsx)(I.B,{className:tu,svg:tg.A}),(0,s.jsx)("div",{className:tm,children:(0,s.jsxs)("div",{children:[(0,g.tx)("file_browser.team_settings_modal.upgrade_to_organization"),(0,s.jsx)(em.$z,{className:t_,onClick:B,trackingProperties:{trackingDescriptor:eU.c.UPGRADE_TO_ORGANIZATION,upsellSource:eg.b.TEAM_SETTINGS_MODAL},children:(0,g.tx)("file_browser.team_settings_modal.upgrade")})]})})]})]})}var tv=a(783902);let tb=(0,eE.rw)();var ty=(e=>(e.SETTINGS="SETTINGS",e.MEMBERS="MEMBERS",e))(ty||{});let tj=(0,ec.nF)(async(e,{teamId:t,canViewTeam:a})=>{await eh.kb.promise,t&&a&&(0,ep.xN)(t,e)});function tS(e){let t={MEMBERS:(0,g.t)("file_browser.team_settings_modal.members_tab"),SETTINGS:(0,g.t)("file_browser.team_settings_modal.settings_tab")},a=n.useRef(null),{setToolbarWidth:r}=e;n.useEffect(()=>{if(a){let e=a.current?.offsetWidth;e&&r(e)}},[r]);let l=e.team.org_id,o=l?[(0,s.jsx)("div",{className:"team_settings_modal--settingsHeader--tGppe",children:t.SETTINGS},"SETTINGS")]:(0,i.WI)(Object.entries(t).map(([t,a])=>{if("SETTINGS"===t&&e.canEditTeam||"MEMBERS"===t)return(0,s.jsx)(tb,{tab:t,mobileNavTabTitle:a,selectedTab:e.selectedTab,onClick:()=>e.setTab(t),children:a},t)}));return e.isMobile?(0,s.jsx)(ej,{tabs:o,dispatch:e.dispatch,width:"100vw"}):(0,s.jsxs)("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--oecTk",style:{minWidth:e.contentWidth},ref:a,children:[(0,s.jsx)(eS.i,{containerClassName:`${l?"team_settings_modal--toolBarSettingsOnly--281il team_settings_modal--toolBarContainer--O-2hM":"team_settings_modal--toolBarContainerFullWidth--XliLu team_settings_modal--toolBarContainer--O-2hM"} team_settings_modal--borderRadius--NeGkl`,tabs:o}),(0,s.jsx)(u.s_,{dispatch:e.dispatch,className:l?"team_settings_modal--settingsOnlyCloseButton--r1V-e":"team_settings_modal--settingsCloseButton--nkdXd",onClose:()=>tI(e.dispatch,e.team,e.viewOnClose)})]})}let tE="TEAM_SETTINGS_MODAL";function tT({onRetry:e}){let t=(0,_.Hb)();return(0,s.jsxs)(l.$y,{variant:"warn",children:[(0,s.jsx)(o.Q,{title:(0,g.t)("general.root_error_boundary_title"),children:t.error?.message}),(0,s.jsx)(d.$,{onClick:e,children:(0,g.t)("auth.try_again")})]})}let tI=(e,t,a)=>{e(A.sf(a))},tN=(0,ev.Ju)(function(e){let t=(0,r.wA)(),a=n.useRef(null),[i,l]=n.useState(-1),o=e_.h.useTrackingContext({trigger:eg.b.TEAM_SETTINGS_MODAL}),{canAdmin:d,canEdit:u,canView:_,entryView:g}=e,x=e.teamSettingsProps,f=(0,r.d4)(e=>e.teams[x.team.id]),v=(0,r.d4)(e=>e.avatarEditorState);if(n.useEffect(()=>{t(eu.um())},[t]),n.useEffect(()=>{f&&t(tj({teamId:f.id,canViewTeam:_??!1}))},[_,t,f]),!f)return null;let b=c.rr,y=b?window.innerWidth:Math.min(.7*window.innerWidth,650),j=b?window.innerWidth:Math.max(y,i),S=d?(0,s.jsx)(eb.FL,{entity:f,entityType:ex.ck.TEAM,avatarEditorState:v,size:80,dispatch:t,avatarSvg:tv.A,svgSizeRatio:.6}):(0,s.jsx)(h.nl,{team:f,size:80,avatarSvg:tv.A,svgSizeRatio:.6});return(0,s.jsx)(em.fu,{name:"Team Settings Modal",properties:{teamId:f.id,...o},children:(0,s.jsxs)(ey.d_,{popStack:!0,size:j,height:b?window.innerHeight:.8*window.innerHeight,className:b?"team_settings_modal--fullScreenModal--tXKWs team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E":"team_settings_modal--modalNoPadding--G-piu team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",modalRef:a,onHide:()=>tI(t,f,g),children:[(0,s.jsx)(tS,{selectedTab:e.tab,setTab:e=>{t(w.hm({type:tE,data:{tab:e,canAdmin:d,canEdit:u,canView:_,teamSettingsProps:x,entryView:g}}));let s="team"===g.view?{view:"team",teamId:f.id,teamViewTab:"SETTINGS"===e?ef.A$.SETTINGS:ef.A$.MEMBERS}:g;t(A.sf(s));let n=a.current;n&&(n.scrollTop=0)},dispatch:t,isMobile:b,contentWidth:y,setToolbarWidth:l,team:f,viewOnClose:g,canEditTeam:u??!1}),(0,s.jsxs)("div",{className:"team_settings_modal--modalBody--NruoE",children:[(0,s.jsx)("div",{className:"team_settings_modal--avatarContainer--xDqae",children:S}),"SETTINGS"===e.tab&&(0,s.jsx)(em.fu,{name:"Team Settings",children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"x1bpp3o7",children:(0,s.jsx)(p.kt,{})}),children:(0,s.jsx)("div",{className:"team_settings_modal--settingsContainer--rJ9jC",children:(0,s.jsx)(tf,{teamId:x.team.id,team:f,billing:x.billing})})})}),"MEMBERS"===e.tab&&(0,s.jsxs)("div",{className:"team_settings_modal--membersContainer--dci-C",children:[(0,s.jsx)(eA,{team:f,canAdmin:d}),(0,s.jsx)(m.n,{boundaryKey:"members-list",loadingFallback:(0,s.jsx)("div",{className:"x1bpp3o7",children:(0,s.jsx)(p.kt,{})}),errorFallback:e=>(0,s.jsx)(tT,{onRetry:e}),children:(0,s.jsx)(eo,{teamId:f.id})})]})]})]})})},tE,ev.ZU.YES)},346536:(e,t,a)=>{a.d(t,{S:()=>d});var s=a(104076),n=a(192075),r=a(872662),i=a(377026),l=a(450259),o=a(5175);function d(e){let t=(e=>{switch(e){case i.Ft.PROJECT:return(0,n.t)("file_browser.project");case i.Ft.TEAM:return(0,n.t)("file_browser.team");case i.Ft.WORKSPACE:return(0,n.t)("file_browser.workspace");case i.Ft.LICENSE_GROUP:return(0,n.t)("file_browser.billing_group");default:return(0,n.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case i.Ft.PROJECT:return(0,n.t)("file_browser.project_capitalized");case i.Ft.TEAM:return(0,n.t)("file_browser.team_capitalized");case i.Ft.WORKSPACE:return(0,n.t)("file_browser.workspace_capitalized");case i.Ft.LICENSE_GROUP:return(0,n.t)("file_browser.billing_group_capitalized");default:return(0,n.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),d=(0,s.jsxs)("div",{className:"unavailable_view--unavailableViewContainer--GTj3V",children:[(0,s.jsx)("div",{className:"unavailable_view--header---62Pr text--fontPos18--rYXJb text--_fontBase--QdLsd",children:(0,n.tx)("file_browser.unavailable_view_resource_not_found",{capitalizedResourceNoun:a})}),(0,s.jsx)("div",{className:"unavailable_view--detailText--eAn5- text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:(0,n.tx)("file_browser.unavailable_view_text",{resourceNoun:t})}),(0,s.jsx)(l.NuxOnboardingOverlay,{entryPoint:o.C5.FileBrowserUnavailableView})]});return(0,s.jsx)(r.r,{content:d})}},899593:(e,t,a)=>{a.d(t,{q:()=>h,V:()=>x});var s=a(716976),n=a(903927),r=a(448897),i=a(949701),l=a(577357),o=a(192075),d=a(58212),c=a(102497),u=(e=>(e.AdminUpgradeEmail="admin_upgrade_email",e.UnknownDeeplink="unknown_deeplink",e))(u||{}),m=a(847282),_=a(59849),p=a(937455);let g={approvalRequestId:"approvalRequestId",entryPoint:"entryPoint"};async function h(e,t){try{let a=await (0,l.Ek)(_.s7T,{requestId:e}),s=(0,i.oA)(a.accountTypeRequest);if(!s){f(t,(0,o.t)("admin_dashboard.requests.not_found"));return}if("pending"!==s.status){t(d.F.enqueue({message:(0,o.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:s?.status==="approved"?"requests-approved":"requests-denied"}));return}return s}catch(e){f(t)}}function x(){let e=(0,n.wA)(),[t,a]=(0,s.useState)(!1),[i,l]=(0,s.useState)();(0,s.useEffect)(()=>{async function t(t){let s=await h(t,e);s?l(s):a(!0)}let s=(0,m.QL)(g.approvalRequestId);s&&((0,m.EM)(g.approvalRequestId),t(s))},[e]),(0,s.useEffect)(()=>{async function s(t){let s=(0,m.QL)(g.entryPoint),n=(0,r.K)(u,s||"")??u.UnknownDeeplink,i=(0,r.K)(c.ps,t.planType)||c.ps.TEAM;try{let a=await p.w.approveRequests({plan_id:t.planId,plan_type:i,selection_method:c.Xv.DEEPLINK,included_request_ids:[t.id],entry_point:n});if(200===a.status){let a=t.requestableOrgUser?.user?.name??t.requestableTeamUser?.user?.name??"";v(e,a)}else f(e)}catch(t){f(e)}finally{a(!0),(0,m.EM)(g.entryPoint)}}i&&!t&&s(i)},[i,e,t])}let f=(e,t)=>{e(d.F.enqueue({message:t||(0,o.t)("admin_dashboard.requests.error_generic"),error:!0}))},v=(e,t)=>{let a=t?(0,o.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}):(0,o.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:1});e(d.F.enqueue({message:a,type:"requests-approved"}))}},65369:(e,t,a)=>{a.d(t,{d:()=>s});let s={aiFeatures:"https://help.figma.com/hc/articles/17725942479127",aiDataSharing:"https://figma.com/ai/our-approach",figmaApproachToAi:"https://figma.com/ai/our-approach"}},557815:(e,t,a)=>{a.d(t,{dr:()=>c,eb:()=>u,oU:()=>m});var s=a(716976),n=a(833805),r=a(59849),i=a(710211),l=a(853039),o=a(502380),d=a(613936);function c(e){let[t]=(0,n.IT)((0,r.GyZ)({teamId:e}));return(0,s.useMemo)(()=>t.transform(e=>(0,o.X)(e)),[t])}function u(e){let[t]=(0,n.IT)((0,r.H1b)({teamId:e}));return(0,s.useMemo)(()=>t.transform(e=>(0,o.SN)(e)??[]),[t])}function m({teamId:e,teamPermissions:t,initialValue:a}){let n=i.M4.Team.useValue(e).data,r=(0,s.useCallback)(e=>a||(!(0,l.w5)(n)&&e?d.e6.EDITOR:d.e6.VIEWER),[a,n]),[o,c]=(0,s.useState)(()=>r(!!t?.canEdit));return(0,s.useEffect)(()=>{c(r(!!t?.canEdit))},[t?.canEdit,r]),{default:r(!!t?.canEdit),inviteLevel:o,setInviteLevel:c}}},922296:(e,t,a)=>{a.d(t,{Z:()=>h});var s=a(716976),n=a(903927);if(443==a.j)var r=a(951002);var i=a(449572),l=a(513369),o=a(192075),d=a(58212);if(443==a.j)var c=a(235854);var u=a(366535),m=a(944350),_=a(59849),p=a(904017);let g=e=>{switch(e){case m.sm.APPROVED:return(0,o.t)("resource_connection.visual_bell.already_approved");case m.sm.DENIED:return(0,o.t)("resource_connection.visual_bell.already_denied");case m.sm.REVOKED:return(0,o.t)("resource_connection.visual_bell.already_revoked");case m.sm.PENDING:return;default:(0,r.xb)(e)}};function h(e){var t;let[a,r]=(0,s.useState)((t=e||"",/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))?e:void 0),o=(0,n.wA)(),h=(0,p.T5)("useOpenResourceConnectionReviewModal").unwrapOr(null),x=(0,i.Rs)(_.XPZ,{resourceConnectionInviteId:a},{enabled:!!a}),f=(0,s.useMemo)(()=>{let e=(0,l.oA)(x.data?.resourceConnectionInvite);return e&&{resourceConnectionInvite:{...e,resourceName:e.projectLimitedInfo?.name||"",hostInviter:{name:e.hostInviterPublic?.name||"",imgUrl:e.hostInviterPublic?.userPublicImgUrl||null},hostPlan:{name:e.hostPlanName,imgUrl:e.hostPlanImageUrl,type:e.hostPlanType},connectingPlan:{name:e.connectingPlanName,type:e.connectingPlanType}}}},[x]);return(0,s.useCallback)(()=>{if(a&&f&&h&&f?.resourceConnectionInvite.connectingPlanId===h.key.parentId){if(f?.resourceConnectionInvite.status===m.sm.PENDING)o(u.to({type:c.d,data:f}));else{let e=g(f?.resourceConnectionInvite.status);e&&o(d.F.enqueue({message:e}))}r(void 0)}},[f,o,h,a])}},666293:(e,t,a)=>{a.d(t,{Bk:()=>u,Pe:()=>c});var s=a(951002),n=a(638004),r=a(550209),i=a(613936),l=a(943168),o=a(506678);let d=(0,l.x1)(i.rT,e=>({id:e.camel(),pending:e.camel(),user_id:e.camel(),level:e.camel(),resource_id_or_key:e.rename("resourceId"),resource_type:e.camel(),created_at:e.camel().custom({toLiveGraph:e=>new Date(e),toSinatra:e=>e.toISOString()}),updated_at:e.camel().stringToDate(),realtime_token:e.drop(),org_user:e.drop(),team_user:e.drop(),user:e.drop()}));function c(e,t){(e.pending||null===e.userId)&&((0,r.$D)(n.e.FRONTEND_PLATFORM,Error("toSinatraConfirmedRole received a pending or null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraConfirmedRole received a pending or null user_id"));let a=d.toSinatra(e),i=o.W.toSinatra(t);return{...a,pending:!1,user_id:a.user_id||"",resource_type:a.resource_type,user:i}}function u(e,t){e.pending&&null===e.userId||((0,r.$D)(n.e.FRONTEND_PLATFORM,Error("toSinatraPendingRole received a non-pending or non-null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraPendingRole received a non-pending or non-null user_id"));let a=d.toSinatra(e);return{...a,pending:!0,user_id:null,resource_type:a.resource_type,user:t}}(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()])},506678:(e,t,a)=>{a.d(t,{W:()=>n});var s=a(943168);let n=(0,s.uR)()(e=>({id:e.camel(),name:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),handle:e.camel(),img_url:e.camel(),email:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),description:e.camel(),org_id:e.drop(),appData:e.drop(),auto_open_in_desktop:e.drop(),backup_codes:e.drop(),can_sell_on_community:e.drop(),cmty_buyer_tos_accepted_at:e.drop(),cmty_seller_capabilities:e.drop(),color_profile:e.drop(),community_beta_at:e.drop(),community_blocked_at:e.drop(),community_commenting_blocked_at:e.drop(),community_profile_handle:e.drop(),community_profile_id:e.drop(),community_purchasing_blocked_at:e.drop(),created_at:e.drop(),delete_user_loading:e.drop(),dev_tokens:e.drop(),drafts_folder_id:e.drop(),email_validated_at:e.drop(),experiment_assignments:e.drop(),external_restricted_org_id:e.drop(),google_sso_only:e.drop(),has_content_from_other_plans:e.drop(),has_passed_visual_compliance:e.drop(),hub_file_publishing_blocked_at:e.drop(),job_title:e.drop(),job_title_source:e.drop(),keyboard_layout:e.drop(),locale:e.drop(),mfa_setup_token:e.drop(),mouse_scroll_to_zoom:e.drop(),oauth_tokens:e.drop(),password_token:e.drop(),personal_drafts_folder_id:e.drop(),phone_number:e.drop(),phone_token:e.drop(),plans:e.drop(),plugin_publishing_blocked_at:e.drop(),profile:e.drop(),realtime_token:e.drop(),realtime_token_inactive:e.drop(),right_click_drag_to_pan:e.drop(),saml_sso_only:e.drop(),screenreader_enabled:e.drop(),sharing_restricted:e.drop(),signup_locale:e.drop(),stripe_account_status:e.drop(),student_validated_at:e.drop(),temp_phone:e.drop(),track_tags:e.drop(),two_factor_app_enabled:e.drop(),two_factor_secret_loaded:e.drop(),unsubscribed_at:e.drop(),usage_purpose:e.drop(),utc_offset:e.drop()}));(0,s.xi)((e,t,a)=>[e()(n),t(n)(),a(n)()]),(0,s.xi)((e,t,a)=>[e()(n),t(n)(),a(n)()])},551553:(e,t,a)=>{a.d(t,{S:()=>r});var s=a(113139),n=a(432099);let r=new class{constructor(){this.AssetTransferSchemaValidator=(0,s.vh)(),this.OrgTeamTransfersSchemaValidator=(0,s.vh)(),this.TeamTransferSchemaValidator=(0,s.vh)(),this.FolderTransferSchemaValidator=(0,s.vh)()}getAssetTransfer(e){return this.AssetTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/${e.selectedAssetTransferRequest}`))}getOrgTeamTransfers(e){return this.OrgTeamTransfersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/org_team_transfers/${e.orgId}`))}getTeamTransfer(e){return this.TeamTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/team_transfer/${e.teamId}`))}getFolderTransfer(e){return this.FolderTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/folder_transfer/${e.folderId}`))}deleteAssetTransferRequest(e){return n.Ay.del(`/api/asset_transfer/${e.id}`)}approveAssetTransferRequest(e){return n.Ay.put(`/api/asset_transfer/${e.id}/approve`,{remove_collaborators:e.removeCollaborators})}}},450259:(e,t,a)=>{a.r(t),a.d(t,{NuxOnboardingOverlay:()=>v});var s=a(104076),n=a(716976),r=a(903927),i=a(795033),l=a(653899),o=a(443192),d=a(115033),c=a(422872),u=a(987224),m=a(381059),_=a(174730),p=a(143277),g=a(902794),h=a(951824),x=a(708729),f=a(441030);function v(e){let t=(0,i.md)(u.eS),a=(0,r.wA)(),v=!!(0,_.f)("not_gen_0"),b=(0,i.md)(m.NT),y=(0,i.md)(m.g5),j=(0,i.md)(x.pC),S=(0,i.md)(m.b3),{show:E,complete:T,isShowing:I}=(0,c.e)({overlay:f.j0N,priority:p.N.HIGH_PRIORITY_MODAL},[b,y,t,S]),N=n.useCallback(()=>{E({canShow:(e,t,a,s)=>!j&&function({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a,isSamlSsoOnly:s}){return a?!s&&!(e&&["student","educator"].includes(e)):!(0,h.d)({jobTitle:e,emailValidatedAt:t})}({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a,isSamlSsoOnly:s})})},[E,j]);if((0,l.h)(()=>{N()}),(0,d.Q)(I),!I)return null;let{trackingContextName:A,testId:w}=t.data?{trackingContextName:"K12 Org Job Title Modal",testId:"NuxOnboardingOverlay-K12"}:v?{trackingContextName:"Gen1 Welcome Modal",testId:"NuxOnboardingOverlay-Gen1"}:{trackingContextName:"Gen 0 NUX",testId:"NuxOnboardingOverlay-Gen0"};return(0,s.jsx)(g.b,{isGen1:v,trackingContextName:A,entryPoint:e.entryPoint,isShowing:I,dataTestId:w,onOverlayClose:()=>{a(o.b({welcome_onboarded:!0})),T()}})}},353103:(e,t,a)=>{a.d(t,{F:()=>p,j:()=>x});var s=a(104076),n=a(795033),r=a(653899),i=a(192075),l=a(422872),o=a(235711),d=a(143277),c=a(61102),u=a(909342),m=a(654200),_=a(441030);let p="sc_team_creation_modal_onboarding_key",g="seen_sharing_clarity_team_creation_modal_overlay",h=(0,o.r1)(g);function x(){let e=(0,n.md)(h),{show:t,isShowing:a,complete:o}=(0,l.e)({overlay:_.jkr,priority:d.N.DEFAULT_MODAL},[e]);return(0,r.h)(()=>{t({canShow:e=>!e})}),(0,s.jsx)(c.rq,{arrowPosition:m.F_.LEFT_TITLE,description:(0,s.jsx)("p",{children:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_description")}),disableHighlight:!0,emphasized:!0,isShowing:a,onClose:o,targetKey:p,title:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_title"),trackingContextName:"Sharing Clarity Team Creation Modal Onboarding",userFlagOnShow:g,zIndex:u.R.MODAL})}},867012:(e,t,a)=>{a.d(t,{Uc:()=>K,MF:()=>Q});var s=a(104076),n=a(716976),r=a(903927),i=a(999083),l=a(494136),o=a(816299),d=a(623411),c=a(357961),u=a(812714),m=a(883765),_=a(310725),p=a(449572),g=a(555013),h=a(679359),x=a(652539),f=a(236631),v=a(192075),b=a(984924),y=a(527173),j=a(366535),S=a(111297),E=a(554886),T=a(592726),I=a(944350),N=a(59849),A=a(754039),w=a(643898),C=a(502380),R=a(904017),k=a(584663),O=a(613936),q=a(278151),L=a(81507),M=a(465452),P=a(959834),D=a(924561),F=a(826160),B=a(353103),U=a(432786),G=a(59670),W=a(148591),V=a(342958);let $="team_creation_modal--sectionHeader--WhxZn text--fontPos11--2LvXf text--_fontBase--QdLsd",H="team_creation_modal--flexRow---ZX7J";var z=a(38542);function Y(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.contacts),n=(0,r.d4)(e=>e.orgDomains),i=(0,r.d4)(e=>e.orgById),l=(0,r.d4)(e=>e.dropdownShown),o=(0,r.d4)(e=>e.autocomplete),d=(0,T.iZ)(),c=t=>{let a=e.currentOrgId?i[e.currentOrgId]:null;return(0,C.t9)(t,a,n)},m=t=>{let s=e.currentOrgId?i[e.currentOrgId]:null,r=(0,u.kc)().team_creation_restricted_guests_err_ui&&s?.invite_whitelist_guest_invite_setting!=null;return(0,C.yI)(t,a.usersByEmail[t]||t,s,n,d.email,r?(0,v.t)("team_creation.restricted_against_adding_external_users"):null)},_=[O.e6.ADMIN,O.e6.EDITOR,O.e6.VIEWER];return e.inviteLevel&&e.onInviteLevelChange?(0,s.jsx)(D.e,{SearchResultComponent:W.o6,TokenComponent:W.gy,autocomplete:o,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:l,getSearchResults:t=>(0,k.Wj)(t,a.usersByEmail,d,[],e.currentOrgId,null,null,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),getSelectText:w.C1,getTokenIdentifier:e=>(0,A.Ts)(e.content)?e.content.email:e.content,inviteLevel:e.inviteLevel,joinLinkShown:!1,onInviteLevelChange:e.onInviteLevelChange,options:_,placeholderText:(0,v.t)("team_creation.add_a_name_or_email"),searchResultToken:c,shouldAutoFocus:!0,validateToken:m,validateTokensAsEmail:!0}):(0,s.jsx)(D.e,{SearchResultComponent:W.o6,TokenComponent:W.gy,autocomplete:o,dispatch:t,dropdownShown:l,getSearchResults:t=>(0,k.Wj)(t,a.usersByEmail,d,[],e.currentOrgId,null,null,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),getTokenIdentifier:e=>(0,A.Ts)(e.content)?e.content.email:e.content,inviteLevel:e.permissionLevel,joinLinkShown:!1,searchResultToken:c,shouldAutoFocus:!0,validateToken:m})}function Q(e,t){return e===G._9.ORG?t===G.J4.EDIT?I.PQ.ORG_EDIT:I.PQ.ORG_VIEW:e===G._9.WORKSPACE?t===G.J4.EDIT?I.PQ.WORKSPACE_EDIT:I.PQ.WORKSPACE_VIEW:I.PQ.INVITE_ONLY}let K=(0,P.Ju)(function(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.currentUserOrgId)??"",w=(0,r.d4)(e=>e.orgById)[a],C=(0,T.iZ)(),k=(0,r.d4)(e=>e.orgDomains),[P,D]=n.useState(!0);(0,n.useEffect)(()=>{(0,m.sx)("team_creation_started",{user_id:C?.id??"",org_id:a})},[]),(0,n.useEffect)(()=>{t(y.um())},[t]);let W=(0,p.Rs)((0,N.Lqr)({orgId:a})),K=(0,R.D6)("TeamCreationModal"),X=(0,R.j_)(K).unwrapOr(!1),J=(0,n.useMemo)(()=>{if("loaded"===W.status){let e=W.data.org?.workspaces?.filter(e=>e.canCreateTeam)??[];return(0,i.KQ)(e,"name"),e}return[]},[W]),Z=(0,n.useMemo)(()=>{if("loaded"===W.status){let e=W.data.currentUser.baseOrgUser?.workspaceUsers?.filter(e=>e.isMainWorkspace);return e&&e.length>0?e[0].workspaceId:L.O}return null},[W]),ee=e.workspaceId,et=J.find(e=>e.id===ee),ea=et&&et.orgAccess===I.bU.SECRET?I.bU.PRIVATE:I.bU.PUBLIC,es=et&&et.orgAccess===I.bU.SECRET?G._9.INVITE_ONLY:G._9.ORG,en=(0,n.useMemo)(()=>("loading"!==W.status&&D(!1),"loaded"===W.status)?W.data.currentUser.baseOrgUser:null,[W]),[er,ei]=n.useState(0),[el,eo]=n.useState(ea);(0,n.useEffect)(()=>{eo(ea)},[ea]);let ed=I.sC.EDIT,[ec,eu]=n.useState(O.e6.EDITOR),[em,e_]=n.useState(e?.workspaceId??Z),ep=(0,u.kc)().sc_workspace_audience,eg=n.useCallback(e=>{let t=J.find(t=>t.id===e);if(ep&&t)return{id:t.id,name:t.name,imgUrl:t.imgUrl}},[J,ep]),[eh,ex]=n.useState(eg(em));(0,n.useEffect)(()=>{e_(e=>e??Z),ex(eg(em))},[Z,em,eg]);let ef=(0,r.d4)(e=>e.autocomplete),ev=!!ef.errorMessage,[eb,ey]=n.useState(G.J4.VIEW),[ej,eS]=n.useState(q.Fb.ORG_BROWSABLE),[eE,eT]=n.useState(es);(0,n.useEffect)(()=>{eT(es)},[es]);let[eI,eN]=n.useState(""),[eA,ew]=n.useState(""),eC=(0,R.X$)("TeamCreationModal").transform(e=>e.tier===I.Ag.ENTERPRISE).unwrapOr(!1)&&J.length>0;(X||Z===L.O)&&J.length>0&&(J=J.concat({id:L.O,name:(0,v.t)("team_creation.unassigned_workspace"),canCreateTeam:!0,orgAccess:I.bU.PUBLIC,imgUrl:null}));let eR=(0,n.useId)(),ek=(0,u.kc)().fpl_textarea_migration?(0,s.jsx)(l.T,{onChange:ew,value:eA,placeholder:(0,v.t)("team_creation.optional"),id:eR}):(0,s.jsx)(g.ks,{className:"team_creation_modal--descriptionInput--cLVf4",type:"textarea",onChange:e=>ew(e.target.value),value:eA,placeholder:(0,v.t)("team_creation.optional"),id:eR}),eO=e=>(0,s.jsx)("div",{className:"team_creation_modal--workspaceIcon--s7G4E",children:e&&e.id!==L.O?(0,s.jsx)(F.z6,{entity:e,size:16}):(0,s.jsx)(x.B,{svg:z.A})}),eq=(0,s.jsxs)(o.bL,{value:em??L.O,onChange:e=>e_(e??L.O),children:[(0,s.jsx)(o.l9,{label:(0,s.jsx)(d.h,{children:(0,v.t)("team_creation.workspace")}),size:"lg",width:"fill",children:(0,s.jsx)("div",{className:"team_creation_modal--workspaceSelectorTrigger--rUsd4",id:"create-team-modal-workspace-selector",children:(0,s.jsxs)("div",{className:H,children:[(0,s.jsx)("div",{children:eO(J.find(e=>e.id===em))}),(0,s.jsx)("div",{children:J.find(e=>e.id===em)?.name??""})]})})}),(0,s.jsx)(o.mc,{children:J.map(e=>(0,s.jsx)(o.c$,{value:e.id,children:(0,s.jsxs)("div",{className:H,children:[eO(e),e.name]})},e.id))})]}),eL=(0,n.useId)(),eM=(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(g.ks,{autoFocus:!0,className:"team_creation_modal--teamNameInputSC--bbcKV","data-testid":"team_creation_modal_title",id:eL,maxLength:q.qg,minLength:1,onChange:e=>eN(e.target.value),placeholder:(0,v.t)("team_creation.writer_s_guild_placeholder"),required:!0,value:eI})});function eP(){let{onSubmitReturnToPrevView:a=!0}=e,s=ec??O.e6.EDITOR;t((0,E.KQ)({teamName:eI,orgAccess:el,workspaceId:em??void 0,dontRedirect:!a,inviteEmails:(0,M.Z)(ef),defaultPermission:ed,description:eA,sharingAudienceControl:Q(eE,eb),orgBrowsable:eE===G._9.INVITE_ONLY&&ej===q.Fb.ORG_BROWSABLE,hidden:eE===G._9.INVITE_ONLY&&ej===q.Fb.HIDDEN,inviteLevel:s})),e.afterSubmit&&e.afterSubmit(),t(j.Lo())}function eD(){t(j.Lo()),t(b.cL())}return(0,s.jsx)(S.fu,{name:"Team Creation",children:(0,s.jsx)(U.OJ,{title:1===er?(0,v.t)("team_creation.add_people_to_team_name",{teamName:eI}):(0,v.t)("team_creation.org_modal_title_sc"),onClose:eD,maxWidth:480,children:(0,s.jsxs)("div",{className:f.s.m16.$,children:[0===er?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Ay,{className:$,htmlFor:eL,children:(0,v.t)("team_creation.name")}),eM,(0,s.jsx)(c.Ay,{className:$,htmlFor:eR,children:(0,v.t)("team_creation.team_description")}),ek,eC&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:$,children:(0,v.t)("team_creation.workspace")}),eq]}),(0,s.jsx)("div",{className:$,children:(0,v.t)("team_creation.who_has_access")}),(0,s.jsx)(B.j,{}),(0,s.jsx)(G.YU,{resourceType:I.vt.TEAM,value:eE,onChange:eT,org:w,audienceAccessLevel:eb,workspace:eh,dataOnboardingKey:B.F}),(0,s.jsx)("div",{className:$,children:(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:eE===G._9.INVITE_ONLY?(0,v.t)("team_creation.visibility"):(0,v.t)("team_creation.what_they_can_do")}),eE===G._9.INVITE_ONLY?(0,s.jsx)(G.Kd,{selectedDiscoverability:ej,setSelectedDiscoverability:eS}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G.Iz,{selectedPermissionsLevel:eb,setSelectedPermissionsLevel:ey}),(0,s.jsx)("div",{className:"team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:eb===G.J4.VIEW?(0,v.t)("team_creation.can_view_and_comment"):(0,v.t)("team_creation.can_create_and_edit_files")})]})]})})]}):P?(0,s.jsx)("div",{className:"team_creation_modal--modalSecondStep--L-6u-",children:(0,s.jsx)("div",{className:"team_creation_modal--loadingState--y80el",children:(0,s.jsx)(h.qc,{})})}):(0,s.jsx)("div",{children:(0,s.jsx)(Y,{permissionLevel:ed,currentOrgId:a,currentOrgUser:en,inviteLevel:ec,onInviteLevelChange:eu})}),(0,s.jsxs)("div",{className:"team_creation_modal--bottomRow--IWTyZ",children:[(0,s.jsx)("div",{className:"team_creation_modal--footer--EAx7f team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,v.tx)("team_creation.step_number_of_max_steps",{currentStep:er+1,maxSteps:2})}),(0,s.jsxs)("div",{className:"team_creation_modal--buttons--jSrKt",children:[(0,s.jsx)(g.tM,{onClick:eD,children:(0,v.tx)("project_creation.cancel")}),(0,s.jsx)(g.vd,{onClick:function(){if(0===er)ei(1);else{let e=w&&w.domain_capture&&k.domains.length>0?(0,M.Z)(ef).filter(e=>(0,_.xf)(e)&&!(0,A.H_)(k.domains,e)):[];e.length>0?function(e){if(w?.invite_whitelist_guest_invite_setting==null&&e.length>0){t(j.to({type:V.F,data:{emails:e,onConfirm:()=>{eP()},popStack:!0,orgName:w.name}}));return}}(e):eP()}},disabled:0===er&&0===eI.trim().length||1===er&&ev,children:0===er?(0,v.tx)("general.continue"):(0,v.tx)("team_creation.create_team")})]})]})]})})})},"TEAM_CREATION_MODAL",P.ZU.YES)},965602:(e,t,a)=>{a.d(t,{dW:()=>T,nH:()=>I});var s=a(104076),n=a(716976),r=a(903927),i=a(929302),l=a(91478),o=a(268389),d=a(812714),c=a(555013),u=a(679359),m=a(192075),_=a(984924),p=a(366535),g=a(111297),h=a(554886),x=a(557815),f=a(944350),v=a(278151),b=a(959834),y=a(867012),j=a(59670),S=a(288757),E=a(293025);let T=(0,b.Ju)(function(e){let t=(0,r.wA)(),a=(0,x.dr)(e.team.id).data,n=a&&a.workspace?{id:a.workspace.id,name:a.workspace.name,imgUrl:a.workspace.imgUrl}:void 0,d=()=>{t(p.Ce()),t(_.cL())},c=i.hS({...e,onClose:d});return(0,s.jsx)(g.fu,{name:"Team Access Modal",properties:{resourceType:f.vt.TEAM,resourceId:e.team.id},children:(0,s.jsx)(l.bL,{manager:c,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:e.goBack?(0,s.jsx)(S.w,{title:(0,m.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):(0,s.jsx)("div",{className:E.DA,children:(0,s.jsx)("p",{children:(0,m.tx)("team_view.team_permissions_modal.access_settings")})})})}),(0,s.jsx)(o.nB,{children:a?a.org&&(0,s.jsx)(I,{team:e.team,org:a.org,teamSharingSettings:a.teamSharingSettings,hideModal:d,workspace:n}):(0,s.jsx)(u.qc,{className:E.Lq})})]})})})},"TeamAccessModal");function I(e){let t=(0,d.kc)().sc_workspace_audience,a=(0,r.wA)(),i=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===f.PQ.ORG_EDIT||t===f.PQ.ORG_VIEW?j._9.ORG:t===f.PQ.WORKSPACE_EDIT||t===f.PQ.WORKSPACE_VIEW?j._9.WORKSPACE:j._9.INVITE_ONLY},[e.teamSharingSettings]),l=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return v.Fb.HIDDEN;return v.Fb.ORG_BROWSABLE},[e.teamSharingSettings]),o=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===f.PQ.ORG_EDIT||t===f.PQ.WORKSPACE_EDIT?j.J4.EDIT:(t===f.PQ.ORG_VIEW||f.PQ.WORKSPACE_VIEW,j.J4.VIEW)},[e.teamSharingSettings]),[u,_]=n.useState(i()),[p,g]=n.useState(l()),[x,b]=n.useState(o()),S=u===j._9.INVITE_ONLY?p&&(0,s.jsx)("div",{className:E.$2,children:(0,s.jsx)(j.Kd,{selectedDiscoverability:p,setSelectedDiscoverability:g})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Iz,{selectedPermissionsLevel:x,setSelectedPermissionsLevel:b}),(0,s.jsx)("div",{className:E.VA,children:x===j.J4.VIEW?(0,m.t)("team_creation.can_view_and_comment"):(0,m.t)("team_creation.can_create_and_edit_files")})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:E.bV,children:(0,m.t)("team_creation.who_has_access")}),(0,s.jsx)(j.YU,{resourceType:f.vt.TEAM,value:u,onChange:_,org:e.org,audienceAccessLevel:x,workspace:t?e.workspace:void 0}),(0,s.jsx)("div",{className:E.bV,children:u===j._9.INVITE_ONLY?(0,m.t)("team_creation.visibility"):(0,m.t)("team_creation.what_they_can_do")}),S,(0,s.jsxs)("div",{className:E.E_,children:[(0,s.jsx)(c.tM,{onClick:e.goBack||e.hideModal,children:(0,m.tx)("project_creation.cancel")}),(0,s.jsx)(c.vd,{onClick:()=>{let t=u===j._9.INVITE_ONLY&&p===v.Fb.ORG_BROWSABLE,s=u===j._9.INVITE_ONLY&&p===v.Fb.HIDDEN,n=(0,y.MF)(u,x);if(a((0,h.zK)({team:e.team,sharingAudienceControl:n,orgBrowsable:t,hidden:s})),e.goBack){e.goBack();return}e.hideModal()},children:(0,m.tx)("team_view.team_permissions_modal.save")})]})]})}},628188:(e,t,a)=>{a.d(t,{Ig:()=>r,Pp:()=>d,XL:()=>c,nH:()=>n,pu:()=>s,td:()=>l,ug:()=>i,zH:()=>o});var s=(e=>(e.NAME_SELF="Name Step",e.HOW_DO_YOU_PLAN_TO_USE_FIGMA="How do you plan to use Figma Step",e.WHAT_DO_YOU_DO="What Do You Do Step",e.WHAT_DO_YOU_DO_V2="What Do You Do Role Step",e.WHERE_OR_HOW_DO_YOU_WORK="Where Or How Do You Work Step",e.WHAT_TYPE_OR_LEVEL_OF_SCHOOL="What Type Or Level Of School Step",e.HOW_MANY_PEOPLE_WORK_IN_ORGANIZATION="How Many People Work At Your Organization Step",e.INVITE_COLLABORATORS="Invite Collaborators Step",e.HAVE_USED_WHITEBOARDS_BEFORE="Have You Used Digital Whiteboarding Tools Before Step",e.HAVE_USED_FIGMA_PRODUCTS_BEFORE="Have You Used Figma Products Before Step",e.CHOOSE_PLAN="Choose Plan Step",e.CHOOSE_PRODUCT="Choose Product Step",e.WHICH_SEAT_WOULD_YOU_LIKE="Which Seat Would You Like Step",e))(s||{});let n=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Figma Products Before Step","Choose Plan Step","Choose Product Step"],r=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Digital Whiteboarding Tools Before Step","Choose Plan Step"],i=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step"],l=n.filter(e=>"Choose Product Step"!==e),o=n.filter(e=>"Choose Plan Step"!==e),d=["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"],c=["What Do You Do Step"]},797196:(e,t,a)=>{a.d(t,{c:()=>g});var s=a(104076),n=a(716976),r=a(903927),i=a(929302),l=a(91478),o=a(268389),d=a(293422),c=a(221586),u=a(555013),m=a(192075),_=a(171660),p=a(366535);function g(e){let t=(0,r.wA)();return(0,s.jsx)(h,{...e,open:!0,onClose:()=>t(p.Lo())})}function h(e){let{title:t,subtitle:a,initialName:g,maxLength:h,onRename:x,placeholder:f,submitText:v,allowEmptyString:b}=e,y=(0,r.wA)(),[j,S]=n.useState(g),E=t??(0,m.t)("resource_rename_modal.title",{initialName:g}),T=i.hS({open:e.open,onClose:e.onClose}),I=()=>{y(p.Lo())},N=()=>!b&&""===j.trim()||j.trim()===g.trim(),A=()=>{N()||(x(j),I())};return(0,s.jsx)(l.bL,{manager:T,width:"md",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:E})}),(0,s.jsxs)(o.nB,{scrolling:"none",children:[a,(0,s.jsx)(u.ks,{autoFocus:!0,className:"resource_rename_modal--input--lUTNz",maxLength:h,placeholder:f,onChange:e=>S(e.currentTarget.value),value:j,onKeyDown:e=>{e.keyCode===c.Uz.ENTER&&(e.preventDefault(),A())}}),h&&(0,s.jsx)("div",{className:"resource_rename_modal--lengthCount--n2dbN",children:(0,s.jsx)(_.E,{color:"secondary",children:(0,m.tx)("resource_rename_modal.lengthCount",{currentLength:j.length,maxLength:h})})})]}),(0,s.jsx)(o.wi,{children:(0,s.jsxs)(o.jk,{children:[(0,s.jsx)(d.$n,{onClick:I,variant:"secondary",children:(0,m.tx)("resource_rename_modal.cancel")}),(0,s.jsx)(d.$n,{variant:"primary",disabled:N(),onClick:A,children:v})]})})]})})}},741563:(e,t,a)=>{a.d(t,{VU:()=>g,cd:()=>u,jT:()=>p,zx:()=>m});var s=a(104076);if(443==a.j)var n=a(307829);if(443==a.j)var r=a(781767);var i=a(238198),l=a(352630),o=a(192075),d=a(244205),c=a(939946);function u({children:e}){return(0,s.jsx)("div",{className:c.Hv,children:e})}function m({dataOnboardingKey:e,children:t}){let{getTriggerProps:a,manager:i}=n.b(),{isOpen:u}=i;return(0,s.jsxs)(n.bL,{manager:i,"data-testid":"multi-select-list-menu",children:[(0,s.jsx)("div",{className:u?void 0:c.Ib,children:(0,s.jsx)(l.Me,{...a(),"aria-label":(0,o.t)("multi_select_list.more"),"data-testid":"multi-select-list-menu-cell-icon","data-onboarding-key":e,trackingProperties:{trackingDescriptor:d.c.MORE},children:(0,s.jsx)(r.J,{})})}),(0,s.jsx)(n.mc,{children:t})]})}function _({children:e}){return(0,s.jsx)("div",{className:c.oi,"data-testid":"multi-select-list-icon-column",children:e})}function p(){return(0,s.jsx)(l.Me,{"aria-label":(0,o.t)("multi_select_list.manage"),trackingProperties:{trackingDescriptor:d.c.MANAGE},children:(0,s.jsx)(i.a,{})})}let g={name:"chevron-right",className:c.oi,cellComponent:(e,{isClickable:t})=>(0,s.jsx)(_,{children:t?(0,s.jsx)(p,{}):null})}},566769:(e,t,a)=>{a.d(t,{EK:()=>x,Fd:()=>h,aN:()=>g,wT:()=>u});var s=a(795033),n=a(380494),r=a(598574),i=a(140948),l=a(325306),o=a(562311),d=a(237494);let c=(0,i.bt)(e=>{if("loaded"!==e.orgTeams.status)return n.Qw.loading();let t=e.orgTeams.teams.filter(t=>t.org_id===e.currentUserOrgId);return n.Qw.loaded(t)}),u=(0,s.yu)(c,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(r.Jt({})),()=>{t.dispatch(r.MT())}}),m=(0,i.bt)(e=>(0,o.getPermissionsStateMemoized)(e)),_=(0,s.eU)(e=>{let t=e(u),a=e(m);return t.transform(e=>e.filter(e=>(0,l.ox)(e,a)))}),p=(0,s.eU)(e=>e(_).transform(e=>(0,d.ZM)(e))),g=(0,s.Iz)(e=>(0,s.eU)(t=>t(p).transform(t=>t[e]??0))),h=(0,s.eU)(e=>e(_).transform(e=>e.filter(e=>null===e.workspace_id||void 0===e.workspace_id))),x=(0,s.yu)(c,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(r.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(r.MT())}})},977843:(e,t,a)=>{a.d(t,{u:()=>o});var s=a(104076),n=a(142914),r=a(894210),i=a(514189);let l=n.Pf.MEDIUM20;function o(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let o=a.slice(0,25).map(e=>e.handle).join("\n");return(0,s.jsxs)("div",{className:"avatars_pile--viewersList--nxwgy",children:[e.totalNum-t.length>0&&(0,s.jsx)("div",{className:"avatars_pile--horizontalPileNumber--6h3zK avatars_pile--baseNumber--Qqq-z","data-tooltip-type":r.Ib.TEXT,"data-tooltip":o,children:e.totalNum-t.length}),t.reverse().map(t=>(0,s.jsx)("div",{className:"avatars_pile--avatar--6RPYa",children:(0,s.jsx)(i.W,{user:t,children:(0,s.jsx)(n.H8,{user:t,size:e.avatarSize?e.avatarSize:l})})},t.id))]})}},958273:(e,t,a)=>{a.d(t,{n:()=>i});var s=a(104076),n=a(716976),r=a(1188);function i({children:e,loadingFallback:t,errorFallback:a,...i}){return(0,s.jsx)(r.tH,{fallback:a,...i,children:(0,s.jsx)(n.Suspense,{fallback:t,children:e})})}}}]);

//# debugId=0ed1e8a8-1e0e-5241-adc0-18dcbab38b3c

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/ca180a4a1e7cf0b0cece4d936226f0120c28fa05/8234-7a91390919a8651a.min.js.map